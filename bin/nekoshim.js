#!/usr/bin/env node
(()=>{var e={4:function(e,t,i){(function(e){"use strict";var $estr=function(){return js_Boot.__string_rec(this,"")},t=t||{},r;function $extend(e,t){var i=Object.create(e);for(var r in t)i[r]=t[r];if(t.toString!==Object.prototype.toString)i.toString=t.toString;return i}var n=t["Attribute"]={__ename__:true,__constructs__:["Off","Bold","Underline","Blink","ReverseVideo","Concealed","BoldOff","UnderlineOff","BlinkOff","NormalVideo","ConcealedOff","Black","Red","Green","Yellow","Blue","Magenta","Cyan","White","DefaultForeground","BlackBack","RedBack","GreenBack","YellowBack","BlueBack","MagentaBack","CyanBack","WhiteBack","DefaultBackground"],Off:{_hx_index:0,__enum__:"Attribute",toString:$estr},Bold:{_hx_index:1,__enum__:"Attribute",toString:$estr},Underline:{_hx_index:2,__enum__:"Attribute",toString:$estr},Blink:{_hx_index:3,__enum__:"Attribute",toString:$estr},ReverseVideo:{_hx_index:4,__enum__:"Attribute",toString:$estr},Concealed:{_hx_index:5,__enum__:"Attribute",toString:$estr},BoldOff:{_hx_index:6,__enum__:"Attribute",toString:$estr},UnderlineOff:{_hx_index:7,__enum__:"Attribute",toString:$estr},BlinkOff:{_hx_index:8,__enum__:"Attribute",toString:$estr},NormalVideo:{_hx_index:9,__enum__:"Attribute",toString:$estr},ConcealedOff:{_hx_index:10,__enum__:"Attribute",toString:$estr},Black:{_hx_index:11,__enum__:"Attribute",toString:$estr},Red:{_hx_index:12,__enum__:"Attribute",toString:$estr},Green:{_hx_index:13,__enum__:"Attribute",toString:$estr},Yellow:{_hx_index:14,__enum__:"Attribute",toString:$estr},Blue:{_hx_index:15,__enum__:"Attribute",toString:$estr},Magenta:{_hx_index:16,__enum__:"Attribute",toString:$estr},Cyan:{_hx_index:17,__enum__:"Attribute",toString:$estr},White:{_hx_index:18,__enum__:"Attribute",toString:$estr},DefaultForeground:{_hx_index:19,__enum__:"Attribute",toString:$estr},BlackBack:{_hx_index:20,__enum__:"Attribute",toString:$estr},RedBack:{_hx_index:21,__enum__:"Attribute",toString:$estr},GreenBack:{_hx_index:22,__enum__:"Attribute",toString:$estr},YellowBack:{_hx_index:23,__enum__:"Attribute",toString:$estr},BlueBack:{_hx_index:24,__enum__:"Attribute",toString:$estr},MagentaBack:{_hx_index:25,__enum__:"Attribute",toString:$estr},CyanBack:{_hx_index:26,__enum__:"Attribute",toString:$estr},WhiteBack:{_hx_index:27,__enum__:"Attribute",toString:$estr},DefaultBackground:{_hx_index:28,__enum__:"Attribute",toString:$estr}};var Sys=function(){};Sys.__name__=true;Sys.systemName=function(){var e=process.platform;switch(e){case"darwin":return"Mac";case"freebsd":return"BSD";case"linux":return"Linux";case"win32":return"Windows";default:var t=e;return t}};var s=i(2081);var Reflect=function(){};Reflect.__name__=true;Reflect.field=function(e,t){try{return e[t]}catch(e){var i=e instanceof js__$Boot_HaxeError?e.val:e;return null}};Reflect.fields=function(e){var t=[];if(e!=null){var i=Object.prototype.hasOwnProperty;for(var r in e){if(r!="__id__"&&r!="hx__closures__"&&i.call(e,r)){t.push(r)}}}return t};Reflect.compare=function(e,t){if(e==t){return 0}else if(e>t){return 1}else{return-1}};Reflect.isEnumValue=function(e){if(e!=null){return e.__enum__!=null}else{return false}};Reflect.copy=function(e){if(e==null){return null}var t={};var i=0;var r=Reflect.fields(e);while(i<r.length){var n=r[i];++i;t[n]=Reflect.field(e,n)}return t};var js_Boot=function(){};js_Boot.__name__=true;js_Boot.getClass=function(e){if(e==null){return null}else if(e instanceof Array){return Array}else{var t=e.__class__;if(t!=null){return t}var i=js_Boot.__nativeClassName(e);if(i!=null){return js_Boot.__resolveNativeClass(i)}return null}};js_Boot.__string_rec=function(e,i){if(e==null){return"null"}if(i.length>=5){return"<...>"}var r=typeof e;if(r=="function"&&(e.__name__||e.__ename__)){r="object"}switch(r){case"function":return"<function>";case"object":if(e.__enum__){var n=t[e.__enum__];var s=n.__constructs__[e._hx_index];var o=n[s];if(o.__params__){i=i+"\t";return s+"("+function(t){var r;var n=[];{var s=0;var a=o.__params__;while(true){if(!(s<a.length)){break}var l=a[s];s=s+1;n.push(js_Boot.__string_rec(e[l],i))}}r=n;return r}(this).join(",")+")"}else{return s}}if(e instanceof Array){var a="[";i+="\t";var l=0;var h=e.length;while(l<h){var c=l++;a+=(c>0?",":"")+js_Boot.__string_rec(e[c],i)}a+="]";return a}var u;try{u=e.toString}catch(e){var d=e instanceof js__$Boot_HaxeError?e.val:e;return"???"}if(u!=null&&u!=Object.toString&&typeof u=="function"){var p=e.toString();if(p!="[object Object]"){return p}}var m="{\n";i+="\t";var _=e.hasOwnProperty!=null;var y=null;for(y in e){if(_&&!e.hasOwnProperty(y)){continue}if(y=="prototype"||y=="__class__"||y=="__super__"||y=="__interfaces__"||y=="__properties__"){continue}if(m.length!=2){m+=", \n"}m+=i+y+" : "+js_Boot.__string_rec(e[y],i)}i=i.substring(1);m+="\n"+i+"}";return m;case"string":return e;default:return String(e)}};js_Boot.__interfLoop=function(e,t){if(e==null){return false}if(e==t){return true}if(Object.prototype.hasOwnProperty.call(e,"__interfaces__")){var i=e.__interfaces__;var r=0;var n=i.length;while(r<n){var s=r++;var o=i[s];if(o==t||js_Boot.__interfLoop(o,t)){return true}}}return js_Boot.__interfLoop(e.__super__,t)};js_Boot.__instanceof=function(e,i){if(i==null){return false}switch(i){case Array:return e instanceof Array;case I:return typeof e=="boolean";case A:return e!=null;case T:return typeof e=="number";case N:if(typeof e=="number"){return(e|0)===e}else{return false}break;case String:return typeof e=="string";default:if(e!=null){if(typeof i=="function"){if(js_Boot.__downcastCheck(e,i)){return true}}else if(typeof i=="object"&&js_Boot.__isNativeObj(i)){if(e instanceof i){return true}}}else{return false}if(i==F?e.__name__!=null:false){return true}if(i==B?e.__ename__!=null:false){return true}return e.__enum__!=null?t[e.__enum__]==i:false}};js_Boot.__downcastCheck=function(e,t){if(!(e instanceof t)){if(t.__isInterface__){return js_Boot.__interfLoop(js_Boot.getClass(e),t)}else{return false}}else{return true}};js_Boot.__nativeClassName=function(e){var t=js_Boot.__toStr.call(e).slice(8,-1);if(t=="Object"||t=="Function"||t=="Math"||t=="JSON"){return null}return t};js_Boot.__isNativeObj=function(e){return js_Boot.__nativeClassName(e)!=null};js_Boot.__resolveNativeClass=function(t){return e[t]};var Std=function(){};Std.__name__=true;Std.string=function(e){return js_Boot.__string_rec(e,"")};Std.parseInt=function(e){if(e!=null){var t=0;var i=e.length;while(t<i){var r=t++;var n=e.charCodeAt(r);if(n<=8||n>=14&&n!=32&&n!=45){var s=parseInt(e,e[r+1]=="x"||e[r+1]=="X"?16:10);if(isNaN(s)){return null}else{return s}}}}return null};var ANSI=function(){};ANSI.__name__=true;ANSI.aset=function(e){if(ANSI.strip||ANSI.stripIfUnavailable&&!ANSI.available){return""}var t=""+"[";var i=[];var r=0;while(r<e.length){var s=e[r];++r;if(!js_Boot.__instanceof(s,n)){throw new js__$Boot_HaxeError("Set argument is not an Attribute: "+Std.string(s))}i.push(ANSI.values.get(s))}return t+i.join(";")+"m"};ANSI.detectSupport=function(){if(Sys.systemName().toLowerCase().indexOf("window")==-1){var e=-1;try{e=s.spawnSync("tput",["colors"]).error==null?0:125}catch(e){var t=e instanceof js__$Boot_HaxeError?e.val:e}return e==0}else{return process.env["ANSICON"]!=null}};var HxOverrides=function(){};HxOverrides.__name__=true;HxOverrides.cca=function(e,t){var i=e.charCodeAt(t);if(i!=i){return undefined}return i};HxOverrides.substr=function(e,t,i){if(i==null){i=e.length}else if(i<0){if(t==0){i=e.length+i}else{return""}}return e.substr(t,i)};HxOverrides.iter=function(e){return{cur:0,arr:e,hasNext:function(){return this.cur<this.arr.length},next:function(){return this.arr[this.cur++]}}};Math.__name__=true;var StringTools=function(){};StringTools.__name__=true;StringTools.startsWith=function(e,t){if(e.length>=t.length){return e.lastIndexOf(t,0)==0}else{return false}};StringTools.endsWith=function(e,t){var i=t.length;var r=e.length;if(r>=i){return e.indexOf(t,r-i)==r-i}else{return false}};StringTools.lpad=function(e,t,i){if(t.length<=0){return e}var r="";i-=e.length;while(r.length<i)r+=t==null?"null":""+t;r+=e==null?"null":""+e;return r};StringTools.replace=function(e,t,i){return e.split(t).join(i)};var haxe_io_Output=function(){};haxe_io_Output.__name__=true;haxe_io_Output.prototype={writeByte:function(e){throw new js__$Boot_HaxeError("Not implemented")},writeBytes:function(e,t,i){if(t<0||i<0||t+i>e.length){throw new js__$Boot_HaxeError(h.OutsideBounds)}var r=e.b;var n=i;while(n>0){this.writeByte(r[t]);++t;--n}return i},writeFullBytes:function(e,t,i){while(i>0){var r=this.writeBytes(e,t,i);t+=r;i-=r}},writeString:function(e,t){var i=haxe_io_Bytes.ofString(e,t);this.writeFullBytes(i,0,i.length)},__class__:haxe_io_Output};var _$Sys_FileOutput=function(e){this.fd=e};_$Sys_FileOutput.__name__=true;_$Sys_FileOutput.__super__=haxe_io_Output;_$Sys_FileOutput.prototype=$extend(haxe_io_Output.prototype,{writeByte:function(e){d.writeSync(this.fd,String.fromCodePoint(e))},writeBytes:function(e,t,i){var r=e.b;return d.writeSync(this.fd,b.from(r.buffer,r.byteOffset,e.length),t,i)},writeString:function(e,t){d.writeSync(this.fd,e)},__class__:_$Sys_FileOutput});var Type=function(){};Type.__name__=true;Type.enumParameters=function(e){var i=t[e.__enum__];var r=i.__constructs__[e._hx_index];var n=i[r].__params__;if(n!=null){var s=[];var o=0;while(o<n.length){var a=n[o];++o;s.push(e[a])}return s}else{return[]}};var o=t["haxe.StackItem"]={__ename__:true,__constructs__:["CFunction","Module","FilePos","Method","LocalFunction"],CFunction:{_hx_index:0,__enum__:"haxe.StackItem",toString:$estr},Module:(r=function(e){return{_hx_index:1,m:e,__enum__:"haxe.StackItem",toString:$estr}},r.__params__=["m"],r),FilePos:(r=function(e,t,i,r){return{_hx_index:2,s:e,file:t,line:i,column:r,__enum__:"haxe.StackItem",toString:$estr}},r.__params__=["s","file","line","column"],r),Method:(r=function(e,t){return{_hx_index:3,classname:e,method:t,__enum__:"haxe.StackItem",toString:$estr}},r.__params__=["classname","method"],r),LocalFunction:(r=function(e){return{_hx_index:4,v:e,__enum__:"haxe.StackItem",toString:$estr}},r.__params__=["v"],r)};var haxe_IMap=function(){};haxe_IMap.__name__=true;haxe_IMap.__isInterface__=true;var haxe_Timer=function(e){var t=this;this.id=setInterval((function(){t.run()}),e)};haxe_Timer.__name__=true;haxe_Timer.delay=function(e,t){var i=new haxe_Timer(t);i.run=function(){i.stop();e()};return i};haxe_Timer.prototype={stop:function(){if(this.id==null){return}clearInterval(this.id);this.id=null},run:function(){},__class__:haxe_Timer};var haxe_ds_BalancedTree=function(){};haxe_ds_BalancedTree.__name__=true;haxe_ds_BalancedTree.__interfaces__=[haxe_IMap];haxe_ds_BalancedTree.prototype={set:function(e,t){this.root=this.setLoop(e,t,this.root)},get:function(e){var t=this.root;while(t!=null){var i=this.compare(e,t.key);if(i==0){return t.value}if(i<0){t=t.left}else{t=t.right}}return null},setLoop:function(e,t,i){if(i==null){return new haxe_ds_TreeNode(null,e,t,null)}var r=this.compare(e,i.key);if(r==0){return new haxe_ds_TreeNode(i.left,e,t,i.right,i==null?0:i._height)}else if(r<0){var n=this.setLoop(e,t,i.left);return this.balance(n,i.key,i.value,i.right)}else{var s=this.setLoop(e,t,i.right);return this.balance(i.left,i.key,i.value,s)}},balance:function(e,t,i,r){var n=e==null?0:e._height;var s=r==null?0:r._height;if(n>s+2){var o=e.left;var a=e.right;if((o==null?0:o._height)>=(a==null?0:a._height)){return new haxe_ds_TreeNode(e.left,e.key,e.value,new haxe_ds_TreeNode(e.right,t,i,r))}else{return new haxe_ds_TreeNode(new haxe_ds_TreeNode(e.left,e.key,e.value,e.right.left),e.right.key,e.right.value,new haxe_ds_TreeNode(e.right.right,t,i,r))}}else if(s>n+2){var l=r.right;var h=r.left;if((l==null?0:l._height)>(h==null?0:h._height)){return new haxe_ds_TreeNode(new haxe_ds_TreeNode(e,t,i,r.left),r.key,r.value,r.right)}else{return new haxe_ds_TreeNode(new haxe_ds_TreeNode(e,t,i,r.left.left),r.left.key,r.left.value,new haxe_ds_TreeNode(r.left.right,r.key,r.value,r.right))}}else{return new haxe_ds_TreeNode(e,t,i,r,(n>s?n:s)+1)}},compare:function(e,t){return Reflect.compare(e,t)},__class__:haxe_ds_BalancedTree};var haxe_ds_TreeNode=function(e,t,i,r,n){if(n==null){n=-1}this.left=e;this.key=t;this.value=i;this.right=r;if(n==-1){var s;var o=this.left;var a=this.right;if((o==null?0:o._height)>(a==null?0:a._height)){var l=this.left;s=l==null?0:l._height}else{var h=this.right;s=h==null?0:h._height}this._height=s+1}else{this._height=n}};haxe_ds_TreeNode.__name__=true;haxe_ds_TreeNode.prototype={__class__:haxe_ds_TreeNode};var haxe_ds_EnumValueMap=function(){haxe_ds_BalancedTree.call(this)};haxe_ds_EnumValueMap.__name__=true;haxe_ds_EnumValueMap.__interfaces__=[haxe_IMap];haxe_ds_EnumValueMap.__super__=haxe_ds_BalancedTree;haxe_ds_EnumValueMap.prototype=$extend(haxe_ds_BalancedTree.prototype,{compare:function(e,t){var i=e._hx_index-t._hx_index;if(i!=0){return i}var r=Type.enumParameters(e);var n=Type.enumParameters(t);if(r.length==0&&n.length==0){return 0}return this.compareArgs(r,n)},compareArgs:function(e,t){var i=e.length-t.length;if(i!=0){return i}var r=0;var n=e.length;while(r<n){var s=r++;var o=this.compareArg(e[s],t[s]);if(o!=0){return o}}return 0},compareArg:function(e,t){if(Reflect.isEnumValue(e)&&Reflect.isEnumValue(t)){return this.compare(e,t)}else if(e instanceof Array&&t instanceof Array){return this.compareArgs(e,t)}else{return Reflect.compare(e,t)}},__class__:haxe_ds_EnumValueMap});var a=t["haxe.ds.Option"]={__ename__:true,__constructs__:["Some","None"],Some:(r=function(e){return{_hx_index:0,v:e,__enum__:"haxe.ds.Option",toString:$estr}},r.__params__=["v"],r),None:{_hx_index:1,__enum__:"haxe.ds.Option",toString:$estr}};var haxe_ds_StringMap=function(){this.h={}};haxe_ds_StringMap.__name__=true;haxe_ds_StringMap.__interfaces__=[haxe_IMap];haxe_ds_StringMap.prototype={setReserved:function(e,t){if(this.rh==null){this.rh={}}this.rh["$"+e]=t},getReserved:function(e){if(this.rh==null){return null}else{return this.rh["$"+e]}},keys:function(){return HxOverrides.iter(this.arrayKeys())},arrayKeys:function(){var e=[];for(var t in this.h){if(this.h.hasOwnProperty(t)){e.push(t)}}if(this.rh!=null){for(var t in this.rh){if(t.charCodeAt(0)==36){e.push(t.substr(1))}}}return e},__class__:haxe_ds_StringMap};var haxe_io_Bytes=function(e){this.length=e.byteLength;this.b=new Uint8Array(e);this.b.bufferValue=e;e.hxBytes=this;e.bytes=this.b};haxe_io_Bytes.__name__=true;haxe_io_Bytes.ofString=function(e,t){if(t==l.RawNative){var i=new Uint8Array(e.length<<1);var r=0;var n=e.length;while(r<n){var s=r++;var o=e.charCodeAt(s);i[s<<1]=o&255;i[s<<1|1]=o>>8}return new haxe_io_Bytes(i.buffer)}var a=[];var h=0;while(h<e.length){var c=e.charCodeAt(h++);if(55296<=c&&c<=56319){c=c-55232<<10|e.charCodeAt(h++)&1023}if(c<=127){a.push(c)}else if(c<=2047){a.push(192|c>>6);a.push(128|c&63)}else if(c<=65535){a.push(224|c>>12);a.push(128|c>>6&63);a.push(128|c&63)}else{a.push(240|c>>18);a.push(128|c>>12&63);a.push(128|c>>6&63);a.push(128|c&63)}}return new haxe_io_Bytes(new Uint8Array(a).buffer)};haxe_io_Bytes.prototype={sub:function(e,t){if(e<0||t<0||e+t>this.length){throw new js__$Boot_HaxeError(h.OutsideBounds)}return new haxe_io_Bytes(this.b.buffer.slice(e+this.b.byteOffset,e+this.b.byteOffset+t))},__class__:haxe_io_Bytes};var l=t["haxe.io.Encoding"]={__ename__:true,__constructs__:["UTF8","RawNative"],UTF8:{_hx_index:0,__enum__:"haxe.io.Encoding",toString:$estr},RawNative:{_hx_index:1,__enum__:"haxe.io.Encoding",toString:$estr}};var h=t["haxe.io.Error"]={__ename__:true,__constructs__:["Blocked","Overflow","OutsideBounds","Custom"],Blocked:{_hx_index:0,__enum__:"haxe.io.Error",toString:$estr},Overflow:{_hx_index:1,__enum__:"haxe.io.Error",toString:$estr},OutsideBounds:{_hx_index:2,__enum__:"haxe.io.Error",toString:$estr},Custom:(r=function(e){return{_hx_index:3,e:e,__enum__:"haxe.io.Error",toString:$estr}},r.__params__=["e"],r)};var haxe_io_Path=function(e){switch(e){case".":case"..":this.dir=e;this.file="";return}var t=e.lastIndexOf("/");var i=e.lastIndexOf("\\");if(t<i){this.dir=HxOverrides.substr(e,0,i);e=HxOverrides.substr(e,i+1,null);this.backslash=true}else if(i<t){this.dir=HxOverrides.substr(e,0,t);e=HxOverrides.substr(e,t+1,null)}else{this.dir=null}var r=e.lastIndexOf(".");if(r!=-1){this.ext=HxOverrides.substr(e,r+1,null);this.file=HxOverrides.substr(e,0,r)}else{this.ext=null;this.file=e}};haxe_io_Path.__name__=true;haxe_io_Path.directory=function(e){var t=new haxe_io_Path(e);if(t.dir==null){return""}return t.dir};haxe_io_Path.addTrailingSlash=function(e){if(e.length==0){return"/"}var t=e.lastIndexOf("/");var i=e.lastIndexOf("\\");if(t<i){if(i!=e.length-1){return e+"\\"}else{return e}}else if(t!=e.length-1){return e+"/"}else{return e}};haxe_io_Path.removeTrailingSlashes=function(e){e:while(true){var t=HxOverrides.cca(e,e.length-1);if(t==null){break}else{switch(t){case 47:case 92:e=HxOverrides.substr(e,0,-1);break;default:break e}}}return e};haxe_io_Path.prototype={__class__:haxe_io_Path};var haxeshim_Attempt=function(){};haxeshim_Attempt.__name__=true;haxeshim_Attempt.to=function(e,t,i){return new tink_core__$Future_SyncFuture(new tink_core__$Lazy_LazyFunc((function(){return tink_core_TypedError.catchExceptions(t,(function(t){return tink_core_TypedError.withData(null,"Failed to "+e,t,i)}),{fileName:"haxeshim/Attempt.hx",lineNumber:8,className:"haxeshim.Attempt",methodName:"to"})})))};var c={};c.__name__=true;c.ofVars=function(e){var t={};var i=t;var r=0;var n=Reflect.fields(e);while(r<n.length){var s=n[r];++r;i[haxeshim_Os.IS_WINDOWS?s.toUpperCase():s]=e[s]}var o=i;return o};c.ofMap=function(e){var t={};var i=t;var r=e.keys();while(r.hasNext()){var n=r.next();i[haxeshim_Os.IS_WINDOWS?n.toUpperCase():n]=C[n]!=null?e.getReserved(n):e.h[n]}var s=i;return s};c.vars=function(e){return e};c.toVars=function(e){return Reflect.copy(e)};c.get=function(e,t){return e[haxeshim_Os.IS_WINDOWS?t.toUpperCase():t]};c.mergeInto=function(e,t){var i=c.vars(t);if(e==null){var r=i;var n=r;return n}else if(i==null){var s=e;var o=s;return o}else{var a=e;var l=i;var h={};var u=h;var d=l;var p=0;var m=Reflect.fields(d);while(p<m.length){var _=m[p];++p;u[_]=d[_]}var y=a;var v=0;var b=Reflect.fields(y);while(v<b.length){var g=b[v];++v;u[g]=y[g]}var w=u;return w}};var haxeshim_Exec=function(){};haxeshim_Exec.__name__=true;haxeshim_Exec.mergeEnv=function(e){return c.mergeInto(e,c.ofVars(process.env))};haxeshim_Exec.sync=function(e,t,i,r){var n=s.spawnSync(e,i,{cwd:t,stdio:"inherit",env:c.toVars(haxeshim_Exec.mergeEnv(r))});var o=n.stdout;var a=n.stderr;var l=n.status;var h=n.signal;var u=n.pid;var d=n.output;var m=n.error;if(m==null){var _=l;return p.Success(_)}else{var y=l;var v=m;return p.Failure(new tink_core_TypedError(y,"Failed to call "+e+" because "+Std.string(v),{fileName:"haxeshim/Exec.hx",lineNumber:54,className:"haxeshim.Exec",methodName:"sync"}))}};var haxeshim_Fs=function(){};haxeshim_Fs.__name__=true;haxeshim_Fs.exists=function(e){var t=e;return haxeshim_Attempt.to("check the existence of "+e,(function(){return sys_FileSystem.exists(t)}),{fileName:"haxeshim/Fs.hx",lineNumber:26,className:"haxeshim.Fs",methodName:"exists"})};haxeshim_Fs.ensureDir=function(e){var t=StringTools.endsWith(e,"/")||StringTools.endsWith(e,"\\");if(t){e=haxe_io_Path.removeTrailingSlashes(e)}var i=haxe_io_Path.directory(e);if(haxe_io_Path.removeTrailingSlashes(i)==e){return new tink_core__$Future_SyncFuture(new tink_core__$Lazy_LazyConst(p.Success(R.Noise)))}else{return k.next(k.next(haxeshim_Fs.exists(i),(function(e){if(e){return new tink_core__$Future_SyncFuture(new tink_core__$Lazy_LazyConst(p.Success(R.Noise)))}else{return haxeshim_Fs.ensureDir(haxe_io_Path.addTrailingSlash(i))}})),(function(i){if(t){return k.next(haxeshim_Fs.exists(e),(function(t){return haxeshim_Attempt.to("create directory "+e,(function(){if(!t){sys_FileSystem.createDirectory(e)}return R.Noise}),{fileName:"haxeshim/Fs.hx",lineNumber:49,className:"haxeshim.Fs",methodName:"ensureDir"})}))}else{return new tink_core__$Future_SyncFuture(new tink_core__$Lazy_LazyConst(p.Success(R.Noise)))}}))}};haxeshim_Fs.peel=function(e,t){var i=0;var r=0;var n=t;while(r<n){var s=r++;var o=e.indexOf("/",i);if(o==-1){return a.None}else{var l=o;i=l+1}}return a.Some(HxOverrides.substr(e,i,null))};var haxeshim_Os=function(){};haxeshim_Os.__name__=true;haxeshim_Os.slashes=function(e){if(haxeshim_Os.IS_WINDOWS){return StringTools.replace(e,"/","\\")}else{return e}};var haxeshim_Logger=function(){};haxeshim_Logger.__name__=true;haxeshim_Logger.get=function(e){if(e==null){e=false}if(e){if(haxeshim_Logger.SILENT==null){haxeshim_Logger.SILENT=new haxeshim_Logger}return haxeshim_Logger.SILENT}else{if(haxeshim_Logger.DEFAULT==null){haxeshim_Logger.DEFAULT=new haxeshim__$Logger_SysLogger}return haxeshim_Logger.DEFAULT}};haxeshim_Logger.prototype={error:function(e){},info:function(e){},success:function(e){},progress:function(e){},__class__:haxeshim_Logger};var haxeshim__$Logger_SysLogger=function(){haxeshim_Logger.call(this)};haxeshim__$Logger_SysLogger.__name__=true;haxeshim__$Logger_SysLogger.__super__=haxeshim_Logger;haxeshim__$Logger_SysLogger.prototype=$extend(haxeshim_Logger.prototype,{log:function(e,t){this.progress("");var i=haxeshim__$Logger_SysLogger.out;var r;switch(e._hx_index){case 0:r=[n.Red];break;case 1:r=[n.Yellow];break;case 2:r=[n.DefaultForeground];break;case 3:r=[n.Green];break}i.writeString(ANSI.aset(r)+t+ANSI.aset([n.Off])+"\n")},error:function(e){this.log(u.Error,e)},info:function(e){this.log(u.Info,e)},success:function(e){this.log(u.Success,e)},progress:function(e){if(haxeshim__$Logger_SysLogger.isTTY){if(e.length>80){e=HxOverrides.substr(e,0,77)+"..."}haxeshim__$Logger_SysLogger.out.writeString((ANSI.strip||ANSI.stripIfUnavailable&&!ANSI.available?"":"[2K")+(ANSI.strip||ANSI.stripIfUnavailable&&!ANSI.available?"":"["+1+"G")+e)}},__class__:haxeshim__$Logger_SysLogger});var u=t["haxeshim._Logger.Level"]={__ename__:true,__constructs__:["Error","Warning","Info","Success"],Error:{_hx_index:0,__enum__:"haxeshim._Logger.Level",toString:$estr},Warning:{_hx_index:1,__enum__:"haxeshim._Logger.Level",toString:$estr},Info:{_hx_index:2,__enum__:"haxeshim._Logger.Level",toString:$estr},Success:{_hx_index:3,__enum__:"haxeshim._Logger.Level",toString:$estr}};var tink_core__$Lazy_LazyObject=function(){};tink_core__$Lazy_LazyObject.__name__=true;tink_core__$Lazy_LazyObject.__isInterface__=true;tink_core__$Lazy_LazyObject.prototype={__class__:tink_core__$Lazy_LazyObject};var tink_core__$Lazy_LazyConst=function(e){this.value=e};tink_core__$Lazy_LazyConst.__name__=true;tink_core__$Lazy_LazyConst.__interfaces__=[tink_core__$Lazy_LazyObject];tink_core__$Lazy_LazyConst.prototype={get:function(){return this.value},__class__:tink_core__$Lazy_LazyConst};var sys_FileSystem=function(){};sys_FileSystem.__name__=true;sys_FileSystem.exists=function(e){try{d.accessSync(e);return true}catch(e){var t=e instanceof js__$Boot_HaxeError?e.val:e;return false}};sys_FileSystem.createDirectory=function(e){try{d.mkdirSync(e)}catch(n){var t=n instanceof js__$Boot_HaxeError?n.val:n;if(t.code=="ENOENT"){sys_FileSystem.createDirectory(y.dirname(e));d.mkdirSync(e)}else{var i;try{i=d.statSync(e)}catch(e){var r=e instanceof js__$Boot_HaxeError?e.val:e;throw t}if(!i.isDirectory()){throw t}}}};var d=i(7147);var p=t["tink.core.Outcome"]={__ename__:true,__constructs__:["Success","Failure"],Success:(r=function(e){return{_hx_index:0,data:e,__enum__:"tink.core.Outcome",toString:$estr}},r.__params__=["data"],r),Failure:(r=function(e){return{_hx_index:1,failure:e,__enum__:"tink.core.Outcome",toString:$estr}},r.__params__=["failure"],r)};var haxeshim_Scope=function(){};haxeshim_Scope.__name__=true;haxeshim_Scope.env=function(e){var t=process.env[e];if(t==null){return a.None}else if(t==""){return a.None}else{var i=t;return a.Some(i)}};var haxeshim_Neko=function(){};haxeshim_Neko.__name__=true;haxeshim_Neko.setEnv=function(){if(haxeshim_Neko.isset){if(haxeshim_Os.IS_WINDOWS){var e=0;var t=haxeshim_Neko.ENV;var i=t==null?[]:Reflect.fields(t);while(e<i.length){var r=i[e];++e;var n=c.get(haxeshim_Neko.ENV,r);process.env[r]=n}}haxeshim_Neko.isset=false}};var haxeshim_NekoCli=function(){};haxeshim_NekoCli.__name__=true;haxeshim_NekoCli.main=function(){haxeshim_Neko.setEnv();var e=haxeshim_Os.IS_WINDOWS?"neko.exe":"neko";var t=process.argv.slice(2);var i=process.cwd();var r={};var n;var s=haxeshim_Exec.sync(haxeshim_Neko.PATH+("/"+e),i,t,c.mergeInto(haxeshim_Neko.ENV,c.ofVars(r)));switch(s._hx_index){case 0:var o=s.data;n=o;break;case 1:var a=s.failure;n=a.code;break}process.exit(n)};var js__$Boot_HaxeError=function(e){Error.call(this);this.val=e;if(Error.captureStackTrace){Error.captureStackTrace(this,js__$Boot_HaxeError)}};js__$Boot_HaxeError.__name__=true;js__$Boot_HaxeError.__super__=Error;js__$Boot_HaxeError.prototype=$extend(Error.prototype,{__class__:js__$Boot_HaxeError});var js_lib__$ArrayBuffer_ArrayBufferCompat=function(){};js_lib__$ArrayBuffer_ArrayBufferCompat.__name__=true;js_lib__$ArrayBuffer_ArrayBufferCompat.sliceImpl=function(e,t){var i=new Uint8Array(this,e,t==null?null:t-e);var r=new Uint8Array(i.byteLength);r.set(i);return r.buffer};var m=i(3685);var _=i(5687);var y=i(1017);var v=i(7310);var b=i(4300).Buffer;var js_node_buffer__$Buffer_Helper=function(){};js_node_buffer__$Buffer_Helper.__name__=true;js_node_buffer__$Buffer_Helper.bytesOfBuffer=function(e){var t=Object.create(haxe_io_Bytes.prototype);t.length=e.byteLength;t.b=e;e.bufferValue=e;e.hxBytes=t;e.bytes=e;return t};var g=i(2781).PassThrough;var lix_cli_Command=function(){};lix_cli_Command.__name__=true;lix_cli_Command.attempt=function(e,t){var i=L.ofSync(lix_cli_Command.reportError);var r=e.flatMap((function(e){switch(e._hx_index){case 0:var t=e.data;return new tink_core__$Future_SyncFuture(new tink_core__$Lazy_LazyConst(t));case 1:var r=e.failure;return i(r)}}));r.gather().handle(t)};lix_cli_Command.reportError=function(e){haxeshim_Logger.get().error(e.message);process.exit(e.code);return null};var lix_cli_NekoCmd=function(){};lix_cli_NekoCmd.__name__=true;lix_cli_NekoCmd.ensure=function(e){return lix_client_haxe_Switcher.ensureNeko(e)};lix_cli_NekoCmd.main=function(){lix_cli_Command.attempt(lix_cli_NekoCmd.ensure(haxeshim_Logger.get()),E.fromNiladic(haxeshim_NekoCli.main))};var w=i(8781);var lix_client_Download=function(){};lix_client_Download.__name__=true;lix_client_Download.buffered=function(e){return O.async((function(t){var i=[];e.on("data",$bind(i,$arrayPush));e.on("end",(function(){var e=p.Success(js_node_buffer__$Buffer_Helper.bytesOfBuffer(b.concat(i)));t(e)}))}))};lix_client_Download.unzip=function(e,t,r,n,s){k.next(lix_client_Download.buffered(n),(function(n){return O.async((function(o){var a=n.length-4;while(a-- >0)if(n.b[a]==80&&n.b[a+1]==75&&n.b[a+2]==5&&n.b[a+3]==6){n.b[a+20]=0;n.b[a+21]=0;n=n.sub(0,a+22);break}if(a==0){var l=p.Failure(new tink_core_TypedError(422,"Unzip failed to find central directory in "+e,{fileName:"src/lix/client/Download.hx",lineNumber:70,className:"lix.client.Download",methodName:"unzip"}));o(l);return}var h=n.b;w.fromBuffer(b.from(h.buffer,h.byteOffset,n.length),(function(n,a){var l=-1;var done=function(){l+=1;s.onProgress(l,a.entryCount,false);if(l==a.entryCount){var e=o;var i=p.Success(t);haxe_Timer.delay((function(){e(i)}),100)}};if(n!=null){var h=p.Failure(new tink_core_TypedError(422,"Failed to unzip "+e+" because "+Std.string(n),{fileName:"src/lix/client/Download.hx",lineNumber:83,className:"lix.client.Download",methodName:"unzip"}));o(h)}a.on("entry",(function(e){var n=haxeshim_Fs.peel(lix_client_Download.stripLeadingSlashes(e.fileName),r);switch(n._hx_index){case 0:var s=n.v;var o=""+t+"/"+s;if(StringTools.endsWith(o,"/")){done()}else{haxeshim_Fs.ensureDir(o).eager();a.openReadStream(e,(function(e,t){var r=i(7758).createWriteStream(o);t.pipe(r,{end:true});r.on("close",done)}))}break;case 1:break}}));a.on("end",(function(){a.close();done()}))}))}))})).handle($bind(s,s.done))};lix_client_Download.stripLeadingSlashes=function(e){if(e.charAt(0)=="/"){return lix_client_Download.stripLeadingSlashes(HxOverrides.substr(e,1,null))}else{return e}};lix_client_Download.untar=function(e,t,r,n,s){return O.async((function(e){var o=0;var a=0;var l=[];var update=function(){s.onProgress(a,o+1,true)};var h=1;var done=function(i){if(i==null){i=0}a+=i;update();haxe_Timer.delay((function(){if((h-=1)<=0){s.onProgress(o,o,true);var i=[];var r=0;while(r<l.length){var n=[l[r]];++r;i.push(O.async(function(e){return function(t){d.unlink(e[0].to,function(e){return function(i){d.symlink(e[0].from,e[0].to,function(){return function(e){var i=e==null?p.Success(R.Noise):p.Failure(new tink_core_TypedError(null,e.message,{fileName:"src/lix/client/Download.hx",lineNumber:142,className:"lix.client.Download",methodName:"untar"}));t(i)}}())}}(e))}}(n)))}k.next(k.inParallel(i),(function(e){return new tink_core__$Future_SyncFuture(new tink_core__$Lazy_LazyConst(p.Success(t)))})).handle(e)}}),100)};var c=null;var fail=function(t){c=new tink_core_TypedError(null,t,{fileName:"src/lix/client/Download.hx",lineNumber:154,className:"lix.client.Download",methodName:"untar"});e(p.Failure(c))};lix_client_uncompress_Tar.parse(n,(function(n){if(c!=null){return}o+=n.size;update();var skip=function(){n.on("data",(function(){}))};var s=haxeshim_Fs.peel(lix_client_Download.stripLeadingSlashes(n.path),r);switch(s._hx_index){case 0:var a=s.v;var u=""+t+"/"+a;if(StringTools.endsWith(u,"/")){skip()}else{haxeshim_Fs.ensureDir(u).handle((function(t){if(t._hx_index==1){var r=t.failure;c=r;e(p.Failure(c))}else if(n.type=="SymbolicLink"){skip();l.push({from:n.linkpath,to:u})}else{h+=1;var s=new g;var o=i(7758).createWriteStream(u,{mode:n.mode});n.pipe(s,{end:true});s.pipe(o,{end:true});var a=done;var d=n.size;o.on("close",(function(){a(d)}))}}))}break;case 1:skip();break}})).handle((function(t){if(t._hx_index==1){var i=t.failure;e(p.Failure(i))}else{done()}}))})).handle($bind(s,s.done))};lix_client_Download.tar=function(e,t,i,r){var n=i;var s=t;return lix_client_Download.download(e,lix_client_Download.withLogger(r,(function(e,t,i){return lix_client_Download.untar(e,n,s,t,i)})))};lix_client_Download.zip=function(e,t,i,r){var n=i;var s=t;return lix_client_Download.download(e,lix_client_Download.withLogger(r,(function(e,t,i){lix_client_Download.unzip(e,n,s,t,i)})))};lix_client_Download.withLogger=function(e,t){return function(i,r,n){var s=Std.parseInt(r.headers["content-length"]);var o=0;var a=0;var l=1;var h=null;var progress=function(t){if(t==h){return}h=t;e.progress(t)};var pct=function(e){e=Math.min(1,Math.max(0,e));var t=Std.string(Math.round(1e3*e)/10);var i;if(t.indexOf(".")==-1){var r=t;i=""+r+".0"}else{var n=t;i=n}return StringTools.lpad(i," ",5)+"%"};var c=new Date(0).getTime();var update=function(){if(!(a==l||a/l>=1)){var e=(new Date).getTime();if(e>c+137){c=e;var t=[];if(o<s){t.push("Downloaded: "+pct(o/s))}if(a>0){t.push("Saved: "+pct(a/l))}var i="   "+t.join("   ");progress(i)}}};r.on("data",(function(e){o+=e.length;update()}));var u=0;t(i,r,{onProgress:function(e,t,i){a=e;l=t;if(i){var r=o/s;var n=a/l;var h=r*n;if(h<u){h=u}u=h;a=Math.round(h*1e3);l=1e3}update()},done:function(t){e.success("-> Done!");n(t)}})}};lix_client_Download.download=function(e,t){return O.async((function(i){var r=v.parse(e);r.agent=false;if(r.headers==null){r.headers={}}r.headers["user-agent"]=lix_client_Download.USER_AGENT;var fail=function(t){var r=p.Failure(tink_core_TypedError.withData(null,"Failed to download "+e+" because "+t.message,t,{fileName:"src/lix/client/Download.hx",lineNumber:293,className:"lix.client.Download",methodName:"download"}));i(r)};var n=StringTools.startsWith(e,"https:")?_.get(r):m.get(r);n.setTimeout(3e4);n.on("error",fail);n.on("response",(function(n){if(n.statusCode>=400){var s=p.Failure(tink_core_TypedError.withData(n.statusCode,n.statusMessage,n,{fileName:"src/lix/client/Download.hx",lineNumber:304,className:"lix.client.Download",methodName:"download"}));i(s)}else{var o=n.headers["location"];if(o==null){n.on("error",fail);t(e,n,(function(e){switch(e._hx_index){case 0:var t=e.data;i(p.Success(t));break;case 1:var r=e.failure;i(p.Failure(r));break}}))}else{var a=o;var l=v.parse(a);var h=l.slashes;var c=l.search;var u=l.query;var d=l.port;var m=l.pathname;var _=l.path;var y=l.href;var b=l.hostname;var g=l.host;var w=l.hash;var S=l.auth;lix_client_Download.download(l.protocol==null?r.protocol+"//"+r.host+a:a,t).handle(i)}}}))}))};var lix_client_haxe_Switcher=function(){};lix_client_haxe_Switcher.__name__=true;lix_client_haxe_Switcher.ensureNeko=function(e){var t=haxeshim_Neko.PATH;if(sys_FileSystem.exists(t)){return new tink_core__$Future_SyncFuture(new tink_core__$Lazy_LazyConst(p.Success(t)))}else{e.info("Neko seems to be missing. Attempting download ...");var i=process.arch;var r;switch(Sys.systemName()){case"Mac":r=lix_client_Download.tar("https://github.com/HaxeFoundation/neko/releases/download/v2-3-0/neko-2.3.0-osx64.tar.gz",1,t,e);break;case"Windows":r=lix_client_Download.zip("https://github.com/HaxeFoundation/neko/releases/download/v2-3-0/neko-2.3.0-win"+(lix_client_haxe_Switcher.isWin64Platform()?"64":"")+".zip",1,t,e);break;default:r=i=="arm64"?lix_client_Download.tar("https://build.haxe.org/builds/neko/linux-arm64/neko_latest.tar.gz",1,t,e):lix_client_Download.tar("https://github.com/HaxeFoundation/neko/releases/download/v2-3-0/neko-2.3.0-linux64.tar.gz",1,t,e)}return k.next(r,(function(t){e.success("done");return new tink_core__$Future_SyncFuture(new tink_core__$Lazy_LazyConst(p.Success(t)))}))}};lix_client_haxe_Switcher.isWin64Platform=function(){var e="PROCESSOR_ARCHITECTURE";var t=process.env[e];if(t!=null&&t.indexOf("64")!=-1){return true}var i="PROCESSOR_ARCHITEW6432";var r=process.env[i];if(r!=null&&r.indexOf("64")!=-1){return true}return false};var lix_client_uncompress_Tar=function(){};lix_client_uncompress_Tar.__name__=true;lix_client_uncompress_Tar.parse=function(e,t){return O.async((function(i){var r=0;var n=0;var s=new S({onentry:function(e){r+=1;t(e)}});s.on("warn",(function(){n+=1}));s.on("end",(function(){var e=r==0&&n!=0?p.Failure(new tink_core_TypedError(422,"Invalid tar archive.",{fileName:"src/lix/client/uncompress/Tar.hx",lineNumber:23,className:"lix.client.uncompress.Tar",methodName:"parse"})):p.Success(R.Noise);i(e)}));s.on("error",(function(e){var t=p.Failure(new tink_core_TypedError(null,e.message,{fileName:"src/lix/client/uncompress/Tar.hx",lineNumber:26,className:"lix.client.uncompress.Tar",methodName:"parse"}));i(t)}));e.pipe(s,{end:true})}))};var S=i(4674).Parse;var E={};E.__name__=true;E.invoke=function(e,t){if(E.depth<500){E.depth++;e(t);E.depth--}else{var i=e;var f=function(e){E.invoke(i,e)};var r=t;E.defer((function(){f(r)}))}};E.fromNiladic=function(e){return e};E.defer=function(e){process.nextTick(e)};var tink_core_LinkObject=function(){};tink_core_LinkObject.__name__=true;tink_core_LinkObject.__isInterface__=true;tink_core_LinkObject.prototype={__class__:tink_core_LinkObject};var x={};x.__name__=true;x.fromMany=function(e){var t=new tink_core_SimpleLink((function(){if(e!=null){var t=0;while(t<e.length){var i=e[t];++t;if(i!=null){i.cancel()}}}else{e=null}}));return t};var tink_core_SimpleLink=function(e){this.f=e};tink_core_SimpleLink.__name__=true;tink_core_SimpleLink.__interfaces__=[tink_core_LinkObject];tink_core_SimpleLink.prototype={cancel:function(){if(this.f!=null){this.f();this.f=null}},__class__:tink_core_SimpleLink};var tink_core__$Callback_LinkPair=function(e,t){this.dissolved=false;this.a=e;this.b=t};tink_core__$Callback_LinkPair.__name__=true;tink_core__$Callback_LinkPair.__interfaces__=[tink_core_LinkObject];tink_core__$Callback_LinkPair.prototype={cancel:function(){if(!this.dissolved){this.dissolved=true;var e=this.a;if(e!=null){e.cancel()}var t=this.b;if(t!=null){t.cancel()}this.a=null;this.b=null}},__class__:tink_core__$Callback_LinkPair};var tink_core__$Callback_ListCell=function(e,t){if(e==null){throw new js__$Boot_HaxeError("callback expected but null received")}this.cb=e;this.list=t};tink_core__$Callback_ListCell.__name__=true;tink_core__$Callback_ListCell.__interfaces__=[tink_core_LinkObject];tink_core__$Callback_ListCell.prototype={cancel:function(){if(this.list!=null){var e=this.list;this.cb=null;this.list=null;if(--e.used<e.used>>1){e.compact()}}},__class__:tink_core__$Callback_ListCell};var tink_core_CallbackList=function(){this.busy=false;this.queue=[];this.used=0;this.cells=[]};tink_core_CallbackList.__name__=true;tink_core_CallbackList.prototype={ondrain:function(){},invoke:function(e,t){if(this.busy){var i=$bind(this,this.invoke);var r=e;var n=t;var tmp=function(){i(r,n);return};this.queue.push(tmp)}else{this.busy=true;var s=this.cells.length;var o=0;var a=s;while(o<a){var l=o++;var h=this.cells[l];if(h.list!=null){E.invoke(h.cb,e)}}this.busy=false;if(t){var c=this.cells.length-s;var u=0;var d=s;while(u<d){var p=u++;var m=this.cells[p];m.cb=null;m.list=null}var _=0;var y=c;while(_<y){var v=_++;this.cells[v]=this.cells[s+v]}this.resize(c)}else if(this.used<this.cells.length){this.compact()}if(this.queue.length>0){this.queue.shift()()}}},compact:function(){if(this.busy){return}else if(this.used==0){this.resize(0);this.ondrain()}else{var e=0;var t=0;var i=this.cells.length;while(t<i){var r=t++;var n=this.cells[r];var s=n.list;if(n.cb!=null){var o=n;if(e!=r){this.cells[e]=o}if(++e==this.used){break}}}this.resize(this.used)}},resize:function(e){this.cells.length=e},__class__:tink_core_CallbackList};var tink_core_TypedError=function(e,t,i){if(e==null){e=500}this.isTinkError=true;this.code=e;this.message=t;this.pos=i;this.exceptionStack=[];this.callStack=[]};tink_core_TypedError.__name__=true;tink_core_TypedError.withData=function(e,t,i,r){return tink_core_TypedError.typed(e,t,i,r)};tink_core_TypedError.typed=function(e,t,i,r){var n=new tink_core_TypedError(e,t,r);n.data=i;return n};tink_core_TypedError.asError=function(e){if(e!=null&&e.isTinkError){return e}else{return null}};tink_core_TypedError.catchExceptions=function(e,t,i){try{return p.Success(e())}catch(e){var r=e instanceof js__$Boot_HaxeError?e.val:e;var n=tink_core_TypedError.asError(r);var s;if(n==null){s=t==null?tink_core_TypedError.withData(null,"Unexpected Error",r,i):t(r)}else{var o=n;s=o}return p.Failure(s)}};tink_core_TypedError.prototype={__class__:tink_core_TypedError};var tink_core_FutureObject=function(){};tink_core_FutureObject.__name__=true;tink_core_FutureObject.__isInterface__=true;tink_core_FutureObject.prototype={__class__:tink_core_FutureObject};var R=t["tink.core.Noise"]={__ename__:true,__constructs__:["Noise"],Noise:{_hx_index:0,__enum__:"tink.core.Noise",toString:$estr}};var tink_core__$Future_SyncFuture=function(e){this.value=e};tink_core__$Future_SyncFuture.__name__=true;tink_core__$Future_SyncFuture.__interfaces__=[tink_core_FutureObject];tink_core__$Future_SyncFuture.prototype={flatMap:function(e){var t=this;return new tink_core__$Future_SuspendableFuture((function(i){var r=t.value.get();return e(r).handle(i)}))},handle:function(e){E.invoke(e,this.value.get());return null},eager:function(){return this},gather:function(){return this},__class__:tink_core__$Future_SyncFuture};var O={};O.__name__=true;O.flatten=function(e){return new tink_core__$Future_SuspendableFuture((function(t){var i=null;var r=e.handle((function(e){i=e.handle(t)}));var n=new tink_core_SimpleLink((function(){if(i!=null){i.cancel()}}));return new tink_core__$Callback_LinkPair(r,n)}))};O.async=function(e,t){if(t==null){t=false}if(t){return new tink_core__$Future_SuspendableFuture((function(t){e(t);return null}))}else{var i=new tink_core_FutureTrigger;var r=e;E.invoke(r,$bind(i,i.trigger));return i}};var tink_core_FutureTrigger=function(){this.list=new tink_core_CallbackList};tink_core_FutureTrigger.__name__=true;tink_core_FutureTrigger.__interfaces__=[tink_core_FutureObject];tink_core_FutureTrigger.prototype={handle:function(e){var t=this.list;if(t==null){E.invoke(e,this.result);return null}else{var i=t;var r=new tink_core__$Callback_ListCell(e,i);i.cells.push(r);i.used++;return r}},flatMap:function(e){var t=this.list;if(t==null){return e(this.result)}else{var i=t;var r=new tink_core_FutureTrigger;var n=this.list;var s=new tink_core__$Callback_ListCell((function(t){e(t).handle($bind(r,r.trigger))}),n);n.cells.push(s);n.used++;return r}},gather:function(){return this},eager:function(){return this},trigger:function(e){if(this.list==null){return false}else{var t=this.list;this.list=null;this.result=e;t.invoke(e,true);return true}},__class__:tink_core_FutureTrigger};var tink_core__$Future_SuspendableFuture=function(e){this.suspended=true;var t=this;this.wakeup=e;this.callbacks=new tink_core_CallbackList;this.callbacks.ondrain=function(){if(t.callbacks!=null){t.suspended=true;var e=t.link;if(e!=null){e.cancel()}t.link=null}}};tink_core__$Future_SuspendableFuture.__name__=true;tink_core__$Future_SuspendableFuture.__interfaces__=[tink_core_FutureObject];tink_core__$Future_SuspendableFuture.prototype={trigger:function(e){var t=this.callbacks;if(t!=null){var i=t;this.callbacks=null;this.suspended=false;this.result=e;this.link=null;this.wakeup=null;i.invoke(e,true)}},handle:function(e){var t=this.callbacks;if(t==null){E.invoke(e,this.result);return null}else{var i=t;var r=this.callbacks;var n=new tink_core__$Callback_ListCell(e,r);r.cells.push(n);r.used++;var s=n;if(this.suspended){this.suspended=false;this.link=this.wakeup($bind(this,this.trigger))}return s}},map:function(e){var t=this;return new tink_core__$Future_SuspendableFuture((function(i){return t.handle((function(t){var r=e(t);i(r)}))}))},flatMap:function(e){return O.flatten(this.map(e))},gather:function(){return this},eager:function(){this.handle(E.fromNiladic((function(){})));return this},__class__:tink_core__$Future_SuspendableFuture};var tink_core__$Lazy_LazyFunc=function(e){this.f=e};tink_core__$Lazy_LazyFunc.__name__=true;tink_core__$Lazy_LazyFunc.__interfaces__=[tink_core__$Lazy_LazyObject];tink_core__$Lazy_LazyFunc.prototype={get:function(){if(this.f!=null){this.result=this.f();this.f=null}return this.result},__class__:tink_core__$Lazy_LazyFunc};var k={};k.__name__=true;k.next=function(e,t,i){if(i==null){i=true}var r=i;if(r==null){r=true}var n=e.flatMap((function(e){switch(e._hx_index){case 0:var i=e.data;return t(i);case 1:var r=e.failure;return new tink_core__$Future_SyncFuture(new tink_core__$Lazy_LazyConst(p.Failure(r)))}}));if(r){return n.gather()}else{return n}};k.inParallel=function(e,t,i){if(e.length==0){return new tink_core__$Future_SyncFuture(new tink_core__$Lazy_LazyConst(p.Success([])))}else{return O.async((function(i){var r=[];var n=e.length;var s=null;var o=[];var a=false;var l=0;var h=HxOverrides.iter(e);var c=null;var done=function(e){if(s==null){a=true}else if(s!=null){s.cancel()}i(e)};var fail=function(e){n=0;done(p.Failure(e))};var set=function(e,t){r[e]=t;if((n-=1)==0){done(p.Success(r))}else if(h.hasNext()&&n>0){c()}};c=function(){l+=1;var e=l-1;var t=h.next().handle((function(t){switch(t._hx_index){case 0:var i=t.data;set(e,i);break;case 1:var r=t.failure;fail(r);break}}));o.push(t)};while(true){var u;if(h.hasNext()&&n>0){if(t!=null){t-=1;u=t+1>0}else{u=true}}else{u=false}if(!u){break}c()}s=x.fromMany(o);if(a){if(s!=null){s.cancel()}}}),i)}};var L={};L.__name__=true;L.ofSync=function(e){return function(t){return new tink_core__$Future_SyncFuture(new tink_core__$Lazy_LazyConst(e(t)))}};function $bind(t,i){if(i==null)return null;if(i.__id__==null)i.__id__=e.$haxeUID++;var r;if(t.hx__closures__==null)t.hx__closures__={};else r=t.hx__closures__[i.__id__];if(r==null){r=i.bind(t);t.hx__closures__[i.__id__]=r}return r}function $arrayPush(e){this.push(e)}e.$haxeUID|=0;js_Boot.__toStr={}.toString;if(String.fromCodePoint==null)String.fromCodePoint=function(e){return e<65536?String.fromCharCode(e):String.fromCharCode((e>>10)+55232)+String.fromCharCode((e&1023)+56320)};String.prototype.__class__=String;String.__name__=true;Array.__name__=true;Date.prototype.__class__=Date;Date.__name__="Date";var N={};var A={};var T=Number;var I=Boolean;var F={};var B={};var C={};Object.defineProperty(js__$Boot_HaxeError.prototype,"message",{get:function(){return String(this.val)}});if(ArrayBuffer.prototype.slice==null){ArrayBuffer.prototype.slice=js_lib__$ArrayBuffer_ArrayBufferCompat.sliceImpl}ANSI.values=function(e){var t;var i=new haxe_ds_EnumValueMap;i.set(n.Off,0);i.set(n.Bold,1);i.set(n.Underline,4);i.set(n.Blink,5);i.set(n.ReverseVideo,7);i.set(n.Concealed,8);i.set(n.BoldOff,22);i.set(n.UnderlineOff,24);i.set(n.BlinkOff,25);i.set(n.NormalVideo,27);i.set(n.ConcealedOff,28);i.set(n.Black,30);i.set(n.Red,31);i.set(n.Green,32);i.set(n.Yellow,33);i.set(n.Blue,34);i.set(n.Magenta,35);i.set(n.Cyan,36);i.set(n.White,37);i.set(n.DefaultForeground,39);i.set(n.BlackBack,40);i.set(n.RedBack,41);i.set(n.GreenBack,42);i.set(n.YellowBack,43);i.set(n.BlueBack,44);i.set(n.MagentaBack,45);i.set(n.CyanBack,46);i.set(n.WhiteBack,47);i.set(n.DefaultBackground,49);t=i;return t}(this);ANSI.available=ANSI.detectSupport();ANSI.strip=false;ANSI.stripIfUnavailable=true;haxeshim_Os.IS_WINDOWS=Sys.systemName()=="Windows";haxeshim_Os.DELIMITER=haxeshim_Os.IS_WINDOWS?";":":";haxeshim__$Logger_SysLogger.isTTY=process.stderr.isTTY;haxeshim__$Logger_SysLogger.out=function(e){var t;ANSI.available=haxeshim__$Logger_SysLogger.isTTY;t=new _$Sys_FileOutput(2);return t}(this);haxeshim_Scope.DEFAULT_ROOT=function(e){var t;var i=haxeshim_Scope.env("HAXE_ROOT");var r=haxeshim_Scope.env("HAXESHIM_ROOT");var n=new tink_core__$Lazy_LazyConst(process.env[haxeshim_Os.IS_WINDOWS?"APPDATA":"HOME"]+"/haxe");var s;if(r._hx_index==0){var o=r.v;s=o}else{s=n.get()}var a=new tink_core__$Lazy_LazyConst(s);t=i._hx_index==0?function(e){var t;var r=i.v;t=r;return t}(e):a.get();return t}(this);haxeshim_Neko.PATH=haxeshim_Os.slashes(haxeshim_Scope.DEFAULT_ROOT+"/neko");haxeshim_Neko.isset=false;haxeshim_Neko.ENV=function(e){var t;var i;switch(Sys.systemName()){case"Mac":i="DYLD_LIBRARY_PATH";break;case"Windows":i="PATH";break;default:i="LD_LIBRARY_PATH"}var r=process.env[i];t=r==null?function(e){var t;var r=new haxe_ds_StringMap;{var n=haxeshim_Neko.PATH;if(C[i]!=null){r.setReserved(i,n)}else{r.h[i]=n}}t=c.ofMap(r);return t}(e):function(e){var t;var n=r;t=n.indexOf(haxeshim_Neko.PATH)!=-1?c.ofVars({}):function(e){var t;var n=r;var s=new haxe_ds_StringMap;{var o=n+haxeshim_Os.DELIMITER+haxeshim_Neko.PATH;if(C[i]!=null){s.setReserved(i,o)}else{s.h[i]=o}}t=c.ofMap(s);return t}(e);return t}(e);return t}(this);lix_client_Download.initZip=function(e){var t;var i=w.validateFileName;w.validateFileName=function(e){return null};t=true;return t}(this);lix_client_Download.USER_AGENT="switchx";E.depth=0;lix_cli_NekoCmd.main()})(typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:this)},4794:(e,t,i)=>{var r=i(4300).Buffer;var n=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];if(typeof Int32Array!=="undefined"){n=new Int32Array(n)}function ensureBuffer(e){if(r.isBuffer(e)){return e}var t=typeof r.alloc==="function"&&typeof r.from==="function";if(typeof e==="number"){return t?r.alloc(e):new r(e)}else if(typeof e==="string"){return t?r.from(e):new r(e)}else{throw new Error("input must be buffer, number, or string, received "+typeof e)}}function bufferizeInt(e){var t=ensureBuffer(4);t.writeInt32BE(e,0);return t}function _crc32(e,t){e=ensureBuffer(e);if(r.isBuffer(t)){t=t.readUInt32BE(0)}var i=~~t^-1;for(var s=0;s<e.length;s++){i=n[(i^e[s])&255]^i>>>8}return i^-1}function crc32(){return bufferizeInt(_crc32.apply(null,arguments))}crc32.signed=function(){return _crc32.apply(null,arguments)};crc32.unsigned=function(){return _crc32.apply(null,arguments)>>>0};e.exports=crc32},9051:(e,t,i)=>{"use strict";const r=i(7147);const n=i(1017);const s=r.lchown?"lchown":"chown";const o=r.lchownSync?"lchownSync":"chownSync";const a=r.lchown&&!process.version.match(/v1[1-9]+\./)&&!process.version.match(/v10\.[6-9]/);const lchownSync=(e,t,i)=>{try{return r[o](e,t,i)}catch(e){if(e.code!=="ENOENT")throw e}};const chownSync=(e,t,i)=>{try{return r.chownSync(e,t,i)}catch(e){if(e.code!=="ENOENT")throw e}};const l=a?(e,t,i,n)=>s=>{if(!s||s.code!=="EISDIR")n(s);else r.chown(e,t,i,n)}:(e,t,i,r)=>r;const h=a?(e,t,i)=>{try{return lchownSync(e,t,i)}catch(r){if(r.code!=="EISDIR")throw r;chownSync(e,t,i)}}:(e,t,i)=>lchownSync(e,t,i);const c=process.version;let readdir=(e,t,i)=>r.readdir(e,t,i);let readdirSync=(e,t)=>r.readdirSync(e,t);if(/^v4\./.test(c))readdir=(e,t,i)=>r.readdir(e,i);const chown=(e,t,i,n)=>{r[s](e,t,i,l(e,t,i,(e=>{n(e&&e.code!=="ENOENT"?e:null)})))};const chownrKid=(e,t,i,s,o)=>{if(typeof t==="string")return r.lstat(n.resolve(e,t),((r,n)=>{if(r)return o(r.code!=="ENOENT"?r:null);n.name=t;chownrKid(e,n,i,s,o)}));if(t.isDirectory()){chownr(n.resolve(e,t.name),i,s,(r=>{if(r)return o(r);const a=n.resolve(e,t.name);chown(a,i,s,o)}))}else{const r=n.resolve(e,t.name);chown(r,i,s,o)}};const chownr=(e,t,i,r)=>{readdir(e,{withFileTypes:true},((n,s)=>{if(n){if(n.code==="ENOENT")return r();else if(n.code!=="ENOTDIR"&&n.code!=="ENOTSUP")return r(n)}if(n||!s.length)return chown(e,t,i,r);let o=s.length;let a=null;const then=n=>{if(a)return;if(n)return r(a=n);if(--o===0)return chown(e,t,i,r)};s.forEach((r=>chownrKid(e,r,t,i,then)))}))};const chownrKidSync=(e,t,i,s)=>{if(typeof t==="string"){try{const i=r.lstatSync(n.resolve(e,t));i.name=t;t=i}catch(e){if(e.code==="ENOENT")return;else throw e}}if(t.isDirectory())chownrSync(n.resolve(e,t.name),i,s);h(n.resolve(e,t.name),i,s)};const chownrSync=(e,t,i)=>{let r;try{r=readdirSync(e,{withFileTypes:true})}catch(r){if(r.code==="ENOENT")return;else if(r.code==="ENOTDIR"||r.code==="ENOTSUP")return h(e,t,i);else throw r}if(r&&r.length)r.forEach((r=>chownrKidSync(e,r,t,i)));return h(e,t,i)};e.exports=chownr;chownr.sync=chownrSync},5010:(e,t,i)=>{var r=i(7147);var n=i(3837);var s=i(2781);var o=s.Readable;var a=s.Writable;var l=s.PassThrough;var h=i(4833);var c=i(2361).EventEmitter;t.createFromBuffer=createFromBuffer;t.createFromFd=createFromFd;t.BufferSlicer=BufferSlicer;t.FdSlicer=FdSlicer;n.inherits(FdSlicer,c);function FdSlicer(e,t){t=t||{};c.call(this);this.fd=e;this.pend=new h;this.pend.max=1;this.refCount=0;this.autoClose=!!t.autoClose}FdSlicer.prototype.read=function(e,t,i,n,s){var o=this;o.pend.go((function(a){r.read(o.fd,e,t,i,n,(function(e,t,i){a();s(e,t,i)}))}))};FdSlicer.prototype.write=function(e,t,i,n,s){var o=this;o.pend.go((function(a){r.write(o.fd,e,t,i,n,(function(e,t,i){a();s(e,t,i)}))}))};FdSlicer.prototype.createReadStream=function(e){return new ReadStream(this,e)};FdSlicer.prototype.createWriteStream=function(e){return new WriteStream(this,e)};FdSlicer.prototype.ref=function(){this.refCount+=1};FdSlicer.prototype.unref=function(){var e=this;e.refCount-=1;if(e.refCount>0)return;if(e.refCount<0)throw new Error("invalid unref");if(e.autoClose){r.close(e.fd,onCloseDone)}function onCloseDone(t){if(t){e.emit("error",t)}else{e.emit("close")}}};n.inherits(ReadStream,o);function ReadStream(e,t){t=t||{};o.call(this,t);this.context=e;this.context.ref();this.start=t.start||0;this.endOffset=t.end;this.pos=this.start;this.destroyed=false}ReadStream.prototype._read=function(e){var t=this;if(t.destroyed)return;var i=Math.min(t._readableState.highWaterMark,e);if(t.endOffset!=null){i=Math.min(i,t.endOffset-t.pos)}if(i<=0){t.destroyed=true;t.push(null);t.context.unref();return}t.context.pend.go((function(e){if(t.destroyed)return e();var n=new Buffer(i);r.read(t.context.fd,n,0,i,t.pos,(function(i,r){if(i){t.destroy(i)}else if(r===0){t.destroyed=true;t.push(null);t.context.unref()}else{t.pos+=r;t.push(n.slice(0,r))}e()}))}))};ReadStream.prototype.destroy=function(e){if(this.destroyed)return;e=e||new Error("stream destroyed");this.destroyed=true;this.emit("error",e);this.context.unref()};n.inherits(WriteStream,a);function WriteStream(e,t){t=t||{};a.call(this,t);this.context=e;this.context.ref();this.start=t.start||0;this.endOffset=t.end==null?Infinity:+t.end;this.bytesWritten=0;this.pos=this.start;this.destroyed=false;this.on("finish",this.destroy.bind(this))}WriteStream.prototype._write=function(e,t,i){var n=this;if(n.destroyed)return;if(n.pos+e.length>n.endOffset){var s=new Error("maximum file length exceeded");s.code="ETOOBIG";n.destroy();i(s);return}n.context.pend.go((function(t){if(n.destroyed)return t();r.write(n.context.fd,e,0,e.length,n.pos,(function(e,r){if(e){n.destroy();t();i(e)}else{n.bytesWritten+=r;n.pos+=r;n.emit("progress");t();i()}}))}))};WriteStream.prototype.destroy=function(){if(this.destroyed)return;this.destroyed=true;this.context.unref()};n.inherits(BufferSlicer,c);function BufferSlicer(e,t){c.call(this);t=t||{};this.refCount=0;this.buffer=e;this.maxChunkSize=t.maxChunkSize||Number.MAX_SAFE_INTEGER}BufferSlicer.prototype.read=function(e,t,i,r,n){var s=r+i;var o=s-this.buffer.length;var a=o>0?o:i;this.buffer.copy(e,t,r,s);setImmediate((function(){n(null,a)}))};BufferSlicer.prototype.write=function(e,t,i,r,n){e.copy(this.buffer,r,t,t+i);setImmediate((function(){n(null,i,e)}))};BufferSlicer.prototype.createReadStream=function(e){e=e||{};var t=new l(e);t.destroyed=false;t.start=e.start||0;t.endOffset=e.end;t.pos=t.endOffset||this.buffer.length;var i=this.buffer.slice(t.start,t.pos);var r=0;while(true){var n=r+this.maxChunkSize;if(n>=i.length){if(r<i.length){t.write(i.slice(r,i.length))}break}t.write(i.slice(r,n));r=n}t.end();t.destroy=function(){t.destroyed=true};return t};BufferSlicer.prototype.createWriteStream=function(e){var t=this;e=e||{};var i=new a(e);i.start=e.start||0;i.endOffset=e.end==null?this.buffer.length:+e.end;i.bytesWritten=0;i.pos=i.start;i.destroyed=false;i._write=function(e,r,n){if(i.destroyed)return;var s=i.pos+e.length;if(s>i.endOffset){var o=new Error("maximum file length exceeded");o.code="ETOOBIG";i.destroyed=true;n(o);return}e.copy(t.buffer,i.pos,0,e.length);i.bytesWritten+=e.length;i.pos=s;i.emit("progress");n()};i.destroy=function(){i.destroyed=true};return i};BufferSlicer.prototype.ref=function(){this.refCount+=1};BufferSlicer.prototype.unref=function(){this.refCount-=1;if(this.refCount<0){throw new Error("invalid unref")}};function createFromBuffer(e,t){return new BufferSlicer(e,t)}function createFromFd(e,t){return new FdSlicer(e,t)}},7714:(e,t,i)=>{"use strict";const r=i(1077);const n=i(2361).EventEmitter;const s=i(7147);let o=s.writev;if(!o){const e=process.binding("fs");const t=e.FSReqWrap||e.FSReqCallback;o=(i,r,n,s)=>{const done=(e,t)=>s(e,t,r);const o=new t;o.oncomplete=done;e.writeBuffers(i,r,n,o)}}const a=Symbol("_autoClose");const l=Symbol("_close");const h=Symbol("_ended");const c=Symbol("_fd");const u=Symbol("_finished");const d=Symbol("_flags");const p=Symbol("_flush");const m=Symbol("_handleChunk");const _=Symbol("_makeBuf");const y=Symbol("_mode");const v=Symbol("_needDrain");const b=Symbol("_onerror");const g=Symbol("_onopen");const w=Symbol("_onread");const S=Symbol("_onwrite");const E=Symbol("_open");const x=Symbol("_path");const R=Symbol("_pos");const O=Symbol("_queue");const k=Symbol("_read");const L=Symbol("_readSize");const N=Symbol("_reading");const A=Symbol("_remain");const T=Symbol("_size");const I=Symbol("_write");const F=Symbol("_writing");const B=Symbol("_defaultFlag");const C=Symbol("_errored");class ReadStream extends r{constructor(e,t){t=t||{};super(t);this.readable=true;this.writable=false;if(typeof e!=="string")throw new TypeError("path must be a string");this[C]=false;this[c]=typeof t.fd==="number"?t.fd:null;this[x]=e;this[L]=t.readSize||16*1024*1024;this[N]=false;this[T]=typeof t.size==="number"?t.size:Infinity;this[A]=this[T];this[a]=typeof t.autoClose==="boolean"?t.autoClose:true;if(typeof this[c]==="number")this[k]();else this[E]()}get fd(){return this[c]}get path(){return this[x]}write(){throw new TypeError("this is a readable stream")}end(){throw new TypeError("this is a readable stream")}[E](){s.open(this[x],"r",((e,t)=>this[g](e,t)))}[g](e,t){if(e)this[b](e);else{this[c]=t;this.emit("open",t);this[k]()}}[_](){return Buffer.allocUnsafe(Math.min(this[L],this[A]))}[k](){if(!this[N]){this[N]=true;const e=this[_]();if(e.length===0)return process.nextTick((()=>this[w](null,0,e)));s.read(this[c],e,0,e.length,null,((e,t,i)=>this[w](e,t,i)))}}[w](e,t,i){this[N]=false;if(e)this[b](e);else if(this[m](t,i))this[k]()}[l](){if(this[a]&&typeof this[c]==="number"){const e=this[c];this[c]=null;s.close(e,(e=>e?this.emit("error",e):this.emit("close")))}}[b](e){this[N]=true;this[l]();this.emit("error",e)}[m](e,t){let i=false;this[A]-=e;if(e>0)i=super.write(e<t.length?t.slice(0,e):t);if(e===0||this[A]<=0){i=false;this[l]();super.end()}return i}emit(e,t){switch(e){case"prefinish":case"finish":break;case"drain":if(typeof this[c]==="number")this[k]();break;case"error":if(this[C])return;this[C]=true;return super.emit(e,t);default:return super.emit(e,t)}}}class ReadStreamSync extends ReadStream{[E](){let e=true;try{this[g](null,s.openSync(this[x],"r"));e=false}finally{if(e)this[l]()}}[k](){let e=true;try{if(!this[N]){this[N]=true;do{const e=this[_]();const t=e.length===0?0:s.readSync(this[c],e,0,e.length,null);if(!this[m](t,e))break}while(true);this[N]=false}e=false}finally{if(e)this[l]()}}[l](){if(this[a]&&typeof this[c]==="number"){const e=this[c];this[c]=null;s.closeSync(e);this.emit("close")}}}class WriteStream extends n{constructor(e,t){t=t||{};super(t);this.readable=false;this.writable=true;this[C]=false;this[F]=false;this[h]=false;this[v]=false;this[O]=[];this[x]=e;this[c]=typeof t.fd==="number"?t.fd:null;this[y]=t.mode===undefined?438:t.mode;this[R]=typeof t.start==="number"?t.start:null;this[a]=typeof t.autoClose==="boolean"?t.autoClose:true;const i=this[R]!==null?"r+":"w";this[B]=t.flags===undefined;this[d]=this[B]?i:t.flags;if(this[c]===null)this[E]()}emit(e,t){if(e==="error"){if(this[C])return;this[C]=true}return super.emit(e,t)}get fd(){return this[c]}get path(){return this[x]}[b](e){this[l]();this[F]=true;this.emit("error",e)}[E](){s.open(this[x],this[d],this[y],((e,t)=>this[g](e,t)))}[g](e,t){if(this[B]&&this[d]==="r+"&&e&&e.code==="ENOENT"){this[d]="w";this[E]()}else if(e)this[b](e);else{this[c]=t;this.emit("open",t);this[p]()}}end(e,t){if(e)this.write(e,t);this[h]=true;if(!this[F]&&!this[O].length&&typeof this[c]==="number")this[S](null,0);return this}write(e,t){if(typeof e==="string")e=Buffer.from(e,t);if(this[h]){this.emit("error",new Error("write() after end()"));return false}if(this[c]===null||this[F]||this[O].length){this[O].push(e);this[v]=true;return false}this[F]=true;this[I](e);return true}[I](e){s.write(this[c],e,0,e.length,this[R],((e,t)=>this[S](e,t)))}[S](e,t){if(e)this[b](e);else{if(this[R]!==null)this[R]+=t;if(this[O].length)this[p]();else{this[F]=false;if(this[h]&&!this[u]){this[u]=true;this[l]();this.emit("finish")}else if(this[v]){this[v]=false;this.emit("drain")}}}}[p](){if(this[O].length===0){if(this[h])this[S](null,0)}else if(this[O].length===1)this[I](this[O].pop());else{const e=this[O];this[O]=[];o(this[c],e,this[R],((e,t)=>this[S](e,t)))}}[l](){if(this[a]&&typeof this[c]==="number"){const e=this[c];this[c]=null;s.close(e,(e=>e?this.emit("error",e):this.emit("close")))}}}class WriteStreamSync extends WriteStream{[E](){let e;if(this[B]&&this[d]==="r+"){try{e=s.openSync(this[x],this[d],this[y])}catch(e){if(e.code==="ENOENT"){this[d]="w";return this[E]()}else throw e}}else e=s.openSync(this[x],this[d],this[y]);this[g](null,e)}[l](){if(this[a]&&typeof this[c]==="number"){const e=this[c];this[c]=null;s.closeSync(e);this.emit("close")}}[I](e){let t=true;try{this[S](null,s.writeSync(this[c],e,0,e.length,this[R]));t=false}finally{if(t)try{this[l]()}catch(e){}}}}t.ReadStream=ReadStream;t.ReadStreamSync=ReadStreamSync;t.WriteStream=WriteStream;t.WriteStreamSync=WriteStreamSync},7356:e=>{"use strict";e.exports=clone;function clone(e){if(e===null||typeof e!=="object")return e;if(e instanceof Object)var t={__proto__:e.__proto__};else var t=Object.create(null);Object.getOwnPropertyNames(e).forEach((function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))}));return t}},7758:(e,t,i)=>{var r=i(7147);var n=i(263);var s=i(3086);var o=i(7356);var a=i(3837);var l;var h;if(typeof Symbol==="function"&&typeof Symbol.for==="function"){l=Symbol.for("graceful-fs.queue");h=Symbol.for("graceful-fs.previous")}else{l="___graceful-fs.queue";h="___graceful-fs.previous"}function noop(){}var c=noop;if(a.debuglog)c=a.debuglog("gfs4");else if(/\bgfs4\b/i.test(process.env.NODE_DEBUG||""))c=function(){var e=a.format.apply(a,arguments);e="GFS4: "+e.split(/\n/).join("\nGFS4: ");console.error(e)};if(!global[l]){var u=[];Object.defineProperty(global,l,{get:function(){return u}});r.close=function(e){function close(t,i){return e.call(r,t,(function(e){if(!e){retry()}if(typeof i==="function")i.apply(this,arguments)}))}Object.defineProperty(close,h,{value:e});return close}(r.close);r.closeSync=function(e){function closeSync(t){e.apply(r,arguments);retry()}Object.defineProperty(closeSync,h,{value:e});return closeSync}(r.closeSync);if(/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")){process.on("exit",(function(){c(global[l]);i(9491).equal(global[l].length,0)}))}}e.exports=patch(o(r));if(process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!r.__patched){e.exports=patch(r);r.__patched=true}function patch(e){n(e);e.gracefulify=patch;e.createReadStream=createReadStream;e.createWriteStream=createWriteStream;var t=e.readFile;e.readFile=readFile;function readFile(e,i,r){if(typeof i==="function")r=i,i=null;return go$readFile(e,i,r);function go$readFile(e,i,r){return t(e,i,(function(t){if(t&&(t.code==="EMFILE"||t.code==="ENFILE"))enqueue([go$readFile,[e,i,r]]);else{if(typeof r==="function")r.apply(this,arguments);retry()}}))}}var i=e.writeFile;e.writeFile=writeFile;function writeFile(e,t,r,n){if(typeof r==="function")n=r,r=null;return go$writeFile(e,t,r,n);function go$writeFile(e,t,r,n){return i(e,t,r,(function(i){if(i&&(i.code==="EMFILE"||i.code==="ENFILE"))enqueue([go$writeFile,[e,t,r,n]]);else{if(typeof n==="function")n.apply(this,arguments);retry()}}))}}var r=e.appendFile;if(r)e.appendFile=appendFile;function appendFile(e,t,i,n){if(typeof i==="function")n=i,i=null;return go$appendFile(e,t,i,n);function go$appendFile(e,t,i,n){return r(e,t,i,(function(r){if(r&&(r.code==="EMFILE"||r.code==="ENFILE"))enqueue([go$appendFile,[e,t,i,n]]);else{if(typeof n==="function")n.apply(this,arguments);retry()}}))}}var o=e.readdir;e.readdir=readdir;function readdir(e,t,i){var r=[e];if(typeof t!=="function"){r.push(t)}else{i=t}r.push(go$readdir$cb);return go$readdir(r);function go$readdir$cb(e,t){if(t&&t.sort)t.sort();if(e&&(e.code==="EMFILE"||e.code==="ENFILE"))enqueue([go$readdir,[r]]);else{if(typeof i==="function")i.apply(this,arguments);retry()}}}function go$readdir(t){return o.apply(e,t)}if(process.version.substr(0,4)==="v0.8"){var a=s(e);ReadStream=a.ReadStream;WriteStream=a.WriteStream}var l=e.ReadStream;if(l){ReadStream.prototype=Object.create(l.prototype);ReadStream.prototype.open=ReadStream$open}var h=e.WriteStream;if(h){WriteStream.prototype=Object.create(h.prototype);WriteStream.prototype.open=WriteStream$open}Object.defineProperty(e,"ReadStream",{get:function(){return ReadStream},set:function(e){ReadStream=e},enumerable:true,configurable:true});Object.defineProperty(e,"WriteStream",{get:function(){return WriteStream},set:function(e){WriteStream=e},enumerable:true,configurable:true});var c=ReadStream;Object.defineProperty(e,"FileReadStream",{get:function(){return c},set:function(e){c=e},enumerable:true,configurable:true});var u=WriteStream;Object.defineProperty(e,"FileWriteStream",{get:function(){return u},set:function(e){u=e},enumerable:true,configurable:true});function ReadStream(e,t){if(this instanceof ReadStream)return l.apply(this,arguments),this;else return ReadStream.apply(Object.create(ReadStream.prototype),arguments)}function ReadStream$open(){var e=this;open(e.path,e.flags,e.mode,(function(t,i){if(t){if(e.autoClose)e.destroy();e.emit("error",t)}else{e.fd=i;e.emit("open",i);e.read()}}))}function WriteStream(e,t){if(this instanceof WriteStream)return h.apply(this,arguments),this;else return WriteStream.apply(Object.create(WriteStream.prototype),arguments)}function WriteStream$open(){var e=this;open(e.path,e.flags,e.mode,(function(t,i){if(t){e.destroy();e.emit("error",t)}else{e.fd=i;e.emit("open",i)}}))}function createReadStream(t,i){return new e.ReadStream(t,i)}function createWriteStream(t,i){return new e.WriteStream(t,i)}var d=e.open;e.open=open;function open(e,t,i,r){if(typeof i==="function")r=i,i=null;return go$open(e,t,i,r);function go$open(e,t,i,r){return d(e,t,i,(function(n,s){if(n&&(n.code==="EMFILE"||n.code==="ENFILE"))enqueue([go$open,[e,t,i,r]]);else{if(typeof r==="function")r.apply(this,arguments);retry()}}))}}return e}function enqueue(e){c("ENQUEUE",e[0].name,e[1]);global[l].push(e)}function retry(){var e=global[l].shift();if(e){c("RETRY",e[0].name,e[1]);e[0].apply(null,e[1])}}},3086:(e,t,i)=>{var r=i(2781).Stream;e.exports=legacy;function legacy(e){return{ReadStream:ReadStream,WriteStream:WriteStream};function ReadStream(t,i){if(!(this instanceof ReadStream))return new ReadStream(t,i);r.call(this);var n=this;this.path=t;this.fd=null;this.readable=true;this.paused=false;this.flags="r";this.mode=438;this.bufferSize=64*1024;i=i||{};var s=Object.keys(i);for(var o=0,a=s.length;o<a;o++){var l=s[o];this[l]=i[l]}if(this.encoding)this.setEncoding(this.encoding);if(this.start!==undefined){if("number"!==typeof this.start){throw TypeError("start must be a Number")}if(this.end===undefined){this.end=Infinity}else if("number"!==typeof this.end){throw TypeError("end must be a Number")}if(this.start>this.end){throw new Error("start must be <= end")}this.pos=this.start}if(this.fd!==null){process.nextTick((function(){n._read()}));return}e.open(this.path,this.flags,this.mode,(function(e,t){if(e){n.emit("error",e);n.readable=false;return}n.fd=t;n.emit("open",t);n._read()}))}function WriteStream(t,i){if(!(this instanceof WriteStream))return new WriteStream(t,i);r.call(this);this.path=t;this.fd=null;this.writable=true;this.flags="w";this.encoding="binary";this.mode=438;this.bytesWritten=0;i=i||{};var n=Object.keys(i);for(var s=0,o=n.length;s<o;s++){var a=n[s];this[a]=i[a]}if(this.start!==undefined){if("number"!==typeof this.start){throw TypeError("start must be a Number")}if(this.start<0){throw new Error("start must be >= zero")}this.pos=this.start}this.busy=false;this._queue=[];if(this.fd===null){this._open=e.open;this._queue.push([this._open,this.path,this.flags,this.mode,undefined]);this.flush()}}}},263:(e,t,i)=>{var r=i(2057);var n=process.cwd;var s=null;var o=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){if(!s)s=n.call(process);return s};try{process.cwd()}catch(e){}var a=process.chdir;process.chdir=function(e){s=null;a.call(process,e)};e.exports=patch;function patch(e){if(r.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)){patchLchmod(e)}if(!e.lutimes){patchLutimes(e)}e.chown=chownFix(e.chown);e.fchown=chownFix(e.fchown);e.lchown=chownFix(e.lchown);e.chmod=chmodFix(e.chmod);e.fchmod=chmodFix(e.fchmod);e.lchmod=chmodFix(e.lchmod);e.chownSync=chownFixSync(e.chownSync);e.fchownSync=chownFixSync(e.fchownSync);e.lchownSync=chownFixSync(e.lchownSync);e.chmodSync=chmodFixSync(e.chmodSync);e.fchmodSync=chmodFixSync(e.fchmodSync);e.lchmodSync=chmodFixSync(e.lchmodSync);e.stat=statFix(e.stat);e.fstat=statFix(e.fstat);e.lstat=statFix(e.lstat);e.statSync=statFixSync(e.statSync);e.fstatSync=statFixSync(e.fstatSync);e.lstatSync=statFixSync(e.lstatSync);if(!e.lchmod){e.lchmod=function(e,t,i){if(i)process.nextTick(i)};e.lchmodSync=function(){}}if(!e.lchown){e.lchown=function(e,t,i,r){if(r)process.nextTick(r)};e.lchownSync=function(){}}if(o==="win32"){e.rename=function(t){return function(i,r,n){var s=Date.now();var o=0;t(i,r,(function CB(a){if(a&&(a.code==="EACCES"||a.code==="EPERM")&&Date.now()-s<6e4){setTimeout((function(){e.stat(r,(function(e,s){if(e&&e.code==="ENOENT")t(i,r,CB);else n(a)}))}),o);if(o<100)o+=10;return}if(n)n(a)}))}}(e.rename)}e.read=function(t){function read(i,r,n,s,o,a){var l;if(a&&typeof a==="function"){var h=0;l=function(c,u,d){if(c&&c.code==="EAGAIN"&&h<10){h++;return t.call(e,i,r,n,s,o,l)}a.apply(this,arguments)}}return t.call(e,i,r,n,s,o,l)}read.__proto__=t;return read}(e.read);e.readSync=function(t){return function(i,r,n,s,o){var a=0;while(true){try{return t.call(e,i,r,n,s,o)}catch(e){if(e.code==="EAGAIN"&&a<10){a++;continue}throw e}}}}(e.readSync);function patchLchmod(e){e.lchmod=function(t,i,n){e.open(t,r.O_WRONLY|r.O_SYMLINK,i,(function(t,r){if(t){if(n)n(t);return}e.fchmod(r,i,(function(t){e.close(r,(function(e){if(n)n(t||e)}))}))}))};e.lchmodSync=function(t,i){var n=e.openSync(t,r.O_WRONLY|r.O_SYMLINK,i);var s=true;var o;try{o=e.fchmodSync(n,i);s=false}finally{if(s){try{e.closeSync(n)}catch(e){}}else{e.closeSync(n)}}return o}}function patchLutimes(e){if(r.hasOwnProperty("O_SYMLINK")){e.lutimes=function(t,i,n,s){e.open(t,r.O_SYMLINK,(function(t,r){if(t){if(s)s(t);return}e.futimes(r,i,n,(function(t){e.close(r,(function(e){if(s)s(t||e)}))}))}))};e.lutimesSync=function(t,i,n){var s=e.openSync(t,r.O_SYMLINK);var o;var a=true;try{o=e.futimesSync(s,i,n);a=false}finally{if(a){try{e.closeSync(s)}catch(e){}}else{e.closeSync(s)}}return o}}else{e.lutimes=function(e,t,i,r){if(r)process.nextTick(r)};e.lutimesSync=function(){}}}function chmodFix(t){if(!t)return t;return function(i,r,n){return t.call(e,i,r,(function(e){if(chownErOk(e))e=null;if(n)n.apply(this,arguments)}))}}function chmodFixSync(t){if(!t)return t;return function(i,r){try{return t.call(e,i,r)}catch(e){if(!chownErOk(e))throw e}}}function chownFix(t){if(!t)return t;return function(i,r,n,s){return t.call(e,i,r,n,(function(e){if(chownErOk(e))e=null;if(s)s.apply(this,arguments)}))}}function chownFixSync(t){if(!t)return t;return function(i,r,n){try{return t.call(e,i,r,n)}catch(e){if(!chownErOk(e))throw e}}}function statFix(t){if(!t)return t;return function(i,r,n){if(typeof r==="function"){n=r;r=null}function callback(e,t){if(t){if(t.uid<0)t.uid+=4294967296;if(t.gid<0)t.gid+=4294967296}if(n)n.apply(this,arguments)}return r?t.call(e,i,r,callback):t.call(e,i,callback)}}function statFixSync(t){if(!t)return t;return function(i,r){var n=r?t.call(e,i,r):t.call(e,i);if(n.uid<0)n.uid+=4294967296;if(n.gid<0)n.gid+=4294967296;return n}}function chownErOk(e){if(!e)return true;if(e.code==="ENOSYS")return true;var t=!process.getuid||process.getuid()!==0;if(t){if(e.code==="EINVAL"||e.code==="EPERM")return true}return false}}},1077:(e,t,i)=>{"use strict";const r=i(2361);const n=i(2781);const s=i(665);const o=i(1576).StringDecoder;const a=Symbol("EOF");const l=Symbol("maybeEmitEnd");const h=Symbol("emittedEnd");const c=Symbol("emittingEnd");const u=Symbol("closed");const d=Symbol("read");const p=Symbol("flush");const m=Symbol("flushChunk");const _=Symbol("encoding");const y=Symbol("decoder");const v=Symbol("flowing");const b=Symbol("paused");const g=Symbol("resume");const w=Symbol("bufferLength");const S=Symbol("bufferPush");const E=Symbol("bufferShift");const x=Symbol("objectMode");const R=Symbol("destroyed");const O=global._MP_NO_ITERATOR_SYMBOLS_!=="1";const k=O&&Symbol.asyncIterator||Symbol("asyncIterator not implemented");const L=O&&Symbol.iterator||Symbol("iterator not implemented");const isEndish=e=>e==="end"||e==="finish"||e==="prefinish";const isArrayBuffer=e=>e instanceof ArrayBuffer||typeof e==="object"&&e.constructor&&e.constructor.name==="ArrayBuffer"&&e.byteLength>=0;const isArrayBufferView=e=>!Buffer.isBuffer(e)&&ArrayBuffer.isView(e);e.exports=class Minipass extends n{constructor(e){super();this[v]=false;this[b]=false;this.pipes=new s;this.buffer=new s;this[x]=e&&e.objectMode||false;if(this[x])this[_]=null;else this[_]=e&&e.encoding||null;if(this[_]==="buffer")this[_]=null;this[y]=this[_]?new o(this[_]):null;this[a]=false;this[h]=false;this[c]=false;this[u]=false;this.writable=true;this.readable=true;this[w]=0;this[R]=false}get bufferLength(){return this[w]}get encoding(){return this[_]}set encoding(e){if(this[x])throw new Error("cannot set encoding in objectMode");if(this[_]&&e!==this[_]&&(this[y]&&this[y].lastNeed||this[w]))throw new Error("cannot change encoding");if(this[_]!==e){this[y]=e?new o(e):null;if(this.buffer.length)this.buffer=this.buffer.map((e=>this[y].write(e)))}this[_]=e}setEncoding(e){this.encoding=e}get objectMode(){return this[x]}set objectMode(e){this[x]=this[x]||!!e}write(e,t,i){if(this[a])throw new Error("write after end");if(this[R]){this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"}));return true}if(typeof t==="function")i=t,t="utf8";if(!t)t="utf8";if(!this[x]&&!Buffer.isBuffer(e)){if(isArrayBufferView(e))e=Buffer.from(e.buffer,e.byteOffset,e.byteLength);else if(isArrayBuffer(e))e=Buffer.from(e);else if(typeof e!=="string")this.objectMode=true}if(!this.objectMode&&!e.length){const e=this.flowing;if(this[w]!==0)this.emit("readable");if(i)i();return e}if(typeof e==="string"&&!this[x]&&!(t===this[_]&&!this[y].lastNeed)){e=Buffer.from(e,t)}if(Buffer.isBuffer(e)&&this[_])e=this[y].write(e);try{return this.flowing?(this.emit("data",e),this.flowing):(this[S](e),false)}finally{if(this[w]!==0)this.emit("readable");if(i)i()}}read(e){if(this[R])return null;try{if(this[w]===0||e===0||e>this[w])return null;if(this[x])e=null;if(this.buffer.length>1&&!this[x]){if(this.encoding)this.buffer=new s([Array.from(this.buffer).join("")]);else this.buffer=new s([Buffer.concat(Array.from(this.buffer),this[w])])}return this[d](e||null,this.buffer.head.value)}finally{this[l]()}}[d](e,t){if(e===t.length||e===null)this[E]();else{this.buffer.head.value=t.slice(e);t=t.slice(0,e);this[w]-=e}this.emit("data",t);if(!this.buffer.length&&!this[a])this.emit("drain");return t}end(e,t,i){if(typeof e==="function")i=e,e=null;if(typeof t==="function")i=t,t="utf8";if(e)this.write(e,t);if(i)this.once("end",i);this[a]=true;this.writable=false;if(this.flowing||!this[b])this[l]();return this}[g](){if(this[R])return;this[b]=false;this[v]=true;this.emit("resume");if(this.buffer.length)this[p]();else if(this[a])this[l]();else this.emit("drain")}resume(){return this[g]()}pause(){this[v]=false;this[b]=true}get destroyed(){return this[R]}get flowing(){return this[v]}get paused(){return this[b]}[S](e){if(this[x])this[w]+=1;else this[w]+=e.length;return this.buffer.push(e)}[E](){if(this.buffer.length){if(this[x])this[w]-=1;else this[w]-=this.buffer.head.value.length}return this.buffer.shift()}[p](){do{}while(this[m](this[E]()));if(!this.buffer.length&&!this[a])this.emit("drain")}[m](e){return e?(this.emit("data",e),this.flowing):false}pipe(e,t){if(this[R])return;const i=this[h];t=t||{};if(e===process.stdout||e===process.stderr)t.end=false;else t.end=t.end!==false;const r={dest:e,opts:t,ondrain:e=>this[g]()};this.pipes.push(r);e.on("drain",r.ondrain);this[g]();if(i&&r.opts.end)r.dest.end();return e}addListener(e,t){return this.on(e,t)}on(e,t){try{return super.on(e,t)}finally{if(e==="data"&&!this.pipes.length&&!this.flowing)this[g]();else if(isEndish(e)&&this[h]){super.emit(e);this.removeAllListeners(e)}}}get emittedEnd(){return this[h]}[l](){if(!this[c]&&!this[h]&&!this[R]&&this.buffer.length===0&&this[a]){this[c]=true;this.emit("end");this.emit("prefinish");this.emit("finish");if(this[u])this.emit("close");this[c]=false}}emit(e,t){if(e!=="error"&&e!=="close"&&e!==R&&this[R])return;else if(e==="data"){if(!t)return;if(this.pipes.length)this.pipes.forEach((e=>e.dest.write(t)===false&&this.pause()))}else if(e==="end"){if(this[h]===true)return;this[h]=true;this.readable=false;if(this[y]){t=this[y].end();if(t){this.pipes.forEach((e=>e.dest.write(t)));super.emit("data",t)}}this.pipes.forEach((e=>{e.dest.removeListener("drain",e.ondrain);if(e.opts.end)e.dest.end()}))}else if(e==="close"){this[u]=true;if(!this[h]&&!this[R])return}const i=new Array(arguments.length);i[0]=e;i[1]=t;if(arguments.length>2){for(let e=2;e<arguments.length;e++){i[e]=arguments[e]}}try{return super.emit.apply(this,i)}finally{if(!isEndish(e))this[l]();else this.removeAllListeners(e)}}collect(){const e=[];if(!this[x])e.dataLength=0;const t=this.promise();this.on("data",(t=>{e.push(t);if(!this[x])e.dataLength+=t.length}));return t.then((()=>e))}concat(){return this[x]?Promise.reject(new Error("cannot concat in objectMode")):this.collect().then((e=>this[x]?Promise.reject(new Error("cannot concat in objectMode")):this[_]?e.join(""):Buffer.concat(e,e.dataLength)))}promise(){return new Promise(((e,t)=>{this.on(R,(()=>t(new Error("stream destroyed"))));this.on("end",(()=>e()));this.on("error",(e=>t(e)))}))}[k](){const next=()=>{const e=this.read();if(e!==null)return Promise.resolve({done:false,value:e});if(this[a])return Promise.resolve({done:true});let t=null;let i=null;const onerr=e=>{this.removeListener("data",ondata);this.removeListener("end",onend);i(e)};const ondata=e=>{this.removeListener("error",onerr);this.removeListener("end",onend);this.pause();t({value:e,done:!!this[a]})};const onend=()=>{this.removeListener("error",onerr);this.removeListener("data",ondata);t({done:true})};const ondestroy=()=>onerr(new Error("stream destroyed"));return new Promise(((e,r)=>{i=r;t=e;this.once(R,ondestroy);this.once("error",onerr);this.once("end",onend);this.once("data",ondata)}))};return{next:next}}[L](){const next=()=>{const e=this.read();const t=e===null;return{value:e,done:t}};return{next:next}}destroy(e){if(this[R]){if(e)this.emit("error",e);else this.emit(R);return this}this[R]=true;this.buffer=new s;this[w]=0;if(typeof this.close==="function"&&!this[u])this.close();if(e)this.emit("error",e);else this.emit(R);return this}static isStream(e){return!!e&&(e instanceof Minipass||e instanceof n||e instanceof r&&(typeof e.pipe==="function"||typeof e.write==="function"&&typeof e.end==="function"))}}},6769:(e,t,i)=>{const r=i(9796).constants||{ZLIB_VERNUM:4736};e.exports=Object.freeze(Object.assign(Object.create(null),{Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_VERSION_ERROR:-6,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,DEFLATE:1,INFLATE:2,GZIP:3,GUNZIP:4,DEFLATERAW:5,INFLATERAW:6,UNZIP:7,BROTLI_DECODE:8,BROTLI_ENCODE:9,Z_MIN_WINDOWBITS:8,Z_MAX_WINDOWBITS:15,Z_DEFAULT_WINDOWBITS:15,Z_MIN_CHUNK:64,Z_MAX_CHUNK:Infinity,Z_DEFAULT_CHUNK:16384,Z_MIN_MEMLEVEL:1,Z_MAX_MEMLEVEL:9,Z_DEFAULT_MEMLEVEL:8,Z_MIN_LEVEL:-1,Z_MAX_LEVEL:9,Z_DEFAULT_LEVEL:-1,BROTLI_OPERATION_PROCESS:0,BROTLI_OPERATION_FLUSH:1,BROTLI_OPERATION_FINISH:2,BROTLI_OPERATION_EMIT_METADATA:3,BROTLI_MODE_GENERIC:0,BROTLI_MODE_TEXT:1,BROTLI_MODE_FONT:2,BROTLI_DEFAULT_MODE:0,BROTLI_MIN_QUALITY:0,BROTLI_MAX_QUALITY:11,BROTLI_DEFAULT_QUALITY:11,BROTLI_MIN_WINDOW_BITS:10,BROTLI_MAX_WINDOW_BITS:24,BROTLI_LARGE_MAX_WINDOW_BITS:30,BROTLI_DEFAULT_WINDOW:22,BROTLI_MIN_INPUT_BLOCK_BITS:16,BROTLI_MAX_INPUT_BLOCK_BITS:24,BROTLI_PARAM_MODE:0,BROTLI_PARAM_QUALITY:1,BROTLI_PARAM_LGWIN:2,BROTLI_PARAM_LGBLOCK:3,BROTLI_PARAM_DISABLE_LITERAL_CONTEXT_MODELING:4,BROTLI_PARAM_SIZE_HINT:5,BROTLI_PARAM_LARGE_WINDOW:6,BROTLI_PARAM_NPOSTFIX:7,BROTLI_PARAM_NDIRECT:8,BROTLI_DECODER_RESULT_ERROR:0,BROTLI_DECODER_RESULT_SUCCESS:1,BROTLI_DECODER_RESULT_NEEDS_MORE_INPUT:2,BROTLI_DECODER_RESULT_NEEDS_MORE_OUTPUT:3,BROTLI_DECODER_PARAM_DISABLE_RING_BUFFER_REALLOCATION:0,BROTLI_DECODER_PARAM_LARGE_WINDOW:1,BROTLI_DECODER_NO_ERROR:0,BROTLI_DECODER_SUCCESS:1,BROTLI_DECODER_NEEDS_MORE_INPUT:2,BROTLI_DECODER_NEEDS_MORE_OUTPUT:3,BROTLI_DECODER_ERROR_FORMAT_EXUBERANT_NIBBLE:-1,BROTLI_DECODER_ERROR_FORMAT_RESERVED:-2,BROTLI_DECODER_ERROR_FORMAT_EXUBERANT_META_NIBBLE:-3,BROTLI_DECODER_ERROR_FORMAT_SIMPLE_HUFFMAN_ALPHABET:-4,BROTLI_DECODER_ERROR_FORMAT_SIMPLE_HUFFMAN_SAME:-5,BROTLI_DECODER_ERROR_FORMAT_CL_SPACE:-6,BROTLI_DECODER_ERROR_FORMAT_HUFFMAN_SPACE:-7,BROTLI_DECODER_ERROR_FORMAT_CONTEXT_MAP_REPEAT:-8,BROTLI_DECODER_ERROR_FORMAT_BLOCK_LENGTH_1:-9,BROTLI_DECODER_ERROR_FORMAT_BLOCK_LENGTH_2:-10,BROTLI_DECODER_ERROR_FORMAT_TRANSFORM:-11,BROTLI_DECODER_ERROR_FORMAT_DICTIONARY:-12,BROTLI_DECODER_ERROR_FORMAT_WINDOW_BITS:-13,BROTLI_DECODER_ERROR_FORMAT_PADDING_1:-14,BROTLI_DECODER_ERROR_FORMAT_PADDING_2:-15,BROTLI_DECODER_ERROR_FORMAT_DISTANCE:-16,BROTLI_DECODER_ERROR_DICTIONARY_NOT_SET:-19,BROTLI_DECODER_ERROR_INVALID_ARGUMENTS:-20,BROTLI_DECODER_ERROR_ALLOC_CONTEXT_MODES:-21,BROTLI_DECODER_ERROR_ALLOC_TREE_GROUPS:-22,BROTLI_DECODER_ERROR_ALLOC_CONTEXT_MAP:-25,BROTLI_DECODER_ERROR_ALLOC_RING_BUFFER_1:-26,BROTLI_DECODER_ERROR_ALLOC_RING_BUFFER_2:-27,BROTLI_DECODER_ERROR_ALLOC_BLOCK_TYPE_TREES:-30,BROTLI_DECODER_ERROR_UNREACHABLE:-31},r))},3486:(e,t,i)=>{"use strict";const r=i(9491);const n=i(4300).Buffer;const s=i(9796);const o=t.constants=i(6769);const a=i(1077);const l=n.concat;const h=Symbol("_superWrite");class ZlibError extends Error{constructor(e){super("zlib: "+e.message);this.code=e.code;this.errno=e.errno;if(!this.code)this.code="ZLIB_ERROR";this.message="zlib: "+e.message;Error.captureStackTrace(this,this.constructor)}get name(){return"ZlibError"}}const c=Symbol("opts");const u=Symbol("flushFlag");const d=Symbol("finishFlushFlag");const p=Symbol("fullFlushFlag");const m=Symbol("handle");const _=Symbol("onError");const y=Symbol("sawError");const v=Symbol("level");const b=Symbol("strategy");const g=Symbol("ended");const w=Symbol("_defaultFullFlush");class ZlibBase extends a{constructor(e,t){if(!e||typeof e!=="object")throw new TypeError("invalid options for ZlibBase constructor");super(e);this[y]=false;this[g]=false;this[c]=e;this[u]=e.flush;this[d]=e.finishFlush;try{this[m]=new s[t](e)}catch(e){throw new ZlibError(e)}this[_]=e=>{if(this[y])return;this[y]=true;this.close();this.emit("error",e)};this[m].on("error",(e=>this[_](new ZlibError(e))));this.once("end",(()=>this.close))}close(){if(this[m]){this[m].close();this[m]=null;this.emit("close")}}reset(){if(!this[y]){r(this[m],"zlib binding closed");return this[m].reset()}}flush(e){if(this.ended)return;if(typeof e!=="number")e=this[p];this.write(Object.assign(n.alloc(0),{[u]:e}))}end(e,t,i){if(e)this.write(e,t);this.flush(this[d]);this[g]=true;return super.end(null,null,i)}get ended(){return this[g]}write(e,t,i){if(typeof t==="function")i=t,t="utf8";if(typeof e==="string")e=n.from(e,t);if(this[y])return;r(this[m],"zlib binding closed");const s=this[m]._handle;const o=s.close;s.close=()=>{};const a=this[m].close;this[m].close=()=>{};n.concat=e=>e;let c;try{const t=typeof e[u]==="number"?e[u]:this[u];c=this[m]._processChunk(e,t);n.concat=l}catch(e){n.concat=l;this[_](new ZlibError(e))}finally{if(this[m]){this[m]._handle=s;s.close=o;this[m].close=a;this[m].removeAllListeners("error")}}if(this[m])this[m].on("error",(e=>this[_](new ZlibError(e))));let d;if(c){if(Array.isArray(c)&&c.length>0){d=this[h](n.from(c[0]));for(let e=1;e<c.length;e++){d=this[h](c[e])}}else{d=this[h](n.from(c))}}if(i)i();return d}[h](e){return super.write(e)}}class Zlib extends ZlibBase{constructor(e,t){e=e||{};e.flush=e.flush||o.Z_NO_FLUSH;e.finishFlush=e.finishFlush||o.Z_FINISH;super(e,t);this[p]=o.Z_FULL_FLUSH;this[v]=e.level;this[b]=e.strategy}params(e,t){if(this[y])return;if(!this[m])throw new Error("cannot switch params when binding is closed");if(!this[m].params)throw new Error("not supported in this implementation");if(this[v]!==e||this[b]!==t){this.flush(o.Z_SYNC_FLUSH);r(this[m],"zlib binding closed");const i=this[m].flush;this[m].flush=(e,t)=>{this.flush(e);t()};try{this[m].params(e,t)}finally{this[m].flush=i}if(this[m]){this[v]=e;this[b]=t}}}}class Deflate extends Zlib{constructor(e){super(e,"Deflate")}}class Inflate extends Zlib{constructor(e){super(e,"Inflate")}}const S=Symbol("_portable");class Gzip extends Zlib{constructor(e){super(e,"Gzip");this[S]=e&&!!e.portable}[h](e){if(!this[S])return super[h](e);this[S]=false;e[9]=255;return super[h](e)}}class Gunzip extends Zlib{constructor(e){super(e,"Gunzip")}}class DeflateRaw extends Zlib{constructor(e){super(e,"DeflateRaw")}}class InflateRaw extends Zlib{constructor(e){super(e,"InflateRaw")}}class Unzip extends Zlib{constructor(e){super(e,"Unzip")}}class Brotli extends ZlibBase{constructor(e,t){e=e||{};e.flush=e.flush||o.BROTLI_OPERATION_PROCESS;e.finishFlush=e.finishFlush||o.BROTLI_OPERATION_FINISH;super(e,t);this[p]=o.BROTLI_OPERATION_FLUSH}}class BrotliCompress extends Brotli{constructor(e){super(e,"BrotliCompress")}}class BrotliDecompress extends Brotli{constructor(e){super(e,"BrotliDecompress")}}t.Deflate=Deflate;t.Inflate=Inflate;t.Gzip=Gzip;t.Gunzip=Gunzip;t.DeflateRaw=DeflateRaw;t.InflateRaw=InflateRaw;t.Unzip=Unzip;if(typeof s.BrotliCompress==="function"){t.BrotliCompress=BrotliCompress;t.BrotliDecompress=BrotliDecompress}else{t.BrotliCompress=t.BrotliDecompress=class{constructor(){throw new Error("Brotli is not supported in this version of Node.js")}}}},6186:(e,t,i)=>{const r=i(2853);const n=i(2930);const{mkdirpNative:s,mkdirpNativeSync:o}=i(4983);const{mkdirpManual:a,mkdirpManualSync:l}=i(356);const{useNative:h,useNativeSync:c}=i(4518);const mkdirp=(e,t)=>{e=n(e);t=r(t);return h(t)?s(e,t):a(e,t)};const mkdirpSync=(e,t)=>{e=n(e);t=r(t);return c(t)?o(e,t):l(e,t)};mkdirp.sync=mkdirpSync;mkdirp.native=(e,t)=>s(n(e),r(t));mkdirp.manual=(e,t)=>a(n(e),r(t));mkdirp.nativeSync=(e,t)=>o(n(e),r(t));mkdirp.manualSync=(e,t)=>l(n(e),r(t));e.exports=mkdirp},4992:(e,t,i)=>{const{dirname:r}=i(1017);const findMade=(e,t,i=undefined)=>{if(i===t)return Promise.resolve();return e.statAsync(t).then((e=>e.isDirectory()?i:undefined),(i=>i.code==="ENOENT"?findMade(e,r(t),t):undefined))};const findMadeSync=(e,t,i=undefined)=>{if(i===t)return undefined;try{return e.statSync(t).isDirectory()?i:undefined}catch(i){return i.code==="ENOENT"?findMadeSync(e,r(t),t):undefined}};e.exports={findMade:findMade,findMadeSync:findMadeSync}},356:(e,t,i)=>{const{dirname:r}=i(1017);const mkdirpManual=(e,t,i)=>{t.recursive=false;const n=r(e);if(n===e){return t.mkdirAsync(e,t).catch((e=>{if(e.code!=="EISDIR")throw e}))}return t.mkdirAsync(e,t).then((()=>i||e),(r=>{if(r.code==="ENOENT")return mkdirpManual(n,t).then((i=>mkdirpManual(e,t,i)));if(r.code!=="EEXIST"&&r.code!=="EROFS")throw r;return t.statAsync(e).then((e=>{if(e.isDirectory())return i;else throw r}),(()=>{throw r}))}))};const mkdirpManualSync=(e,t,i)=>{const n=r(e);t.recursive=false;if(n===e){try{return t.mkdirSync(e,t)}catch(e){if(e.code!=="EISDIR")throw e;else return}}try{t.mkdirSync(e,t);return i||e}catch(r){if(r.code==="ENOENT")return mkdirpManualSync(e,t,mkdirpManualSync(n,t,i));if(r.code!=="EEXIST"&&r.code!=="EROFS")throw r;try{if(!t.statSync(e).isDirectory())throw r}catch(e){throw r}}};e.exports={mkdirpManual:mkdirpManual,mkdirpManualSync:mkdirpManualSync}},4983:(e,t,i)=>{const{dirname:r}=i(1017);const{findMade:n,findMadeSync:s}=i(4992);const{mkdirpManual:o,mkdirpManualSync:a}=i(356);const mkdirpNative=(e,t)=>{t.recursive=true;const i=r(e);if(i===e)return t.mkdirAsync(e,t);return n(t,e).then((i=>t.mkdirAsync(e,t).then((()=>i)).catch((i=>{if(i.code==="ENOENT")return o(e,t);else throw i}))))};const mkdirpNativeSync=(e,t)=>{t.recursive=true;const i=r(e);if(i===e)return t.mkdirSync(e,t);const n=s(t,e);try{t.mkdirSync(e,t);return n}catch(i){if(i.code==="ENOENT")return a(e,t);else throw i}};e.exports={mkdirpNative:mkdirpNative,mkdirpNativeSync:mkdirpNativeSync}},2853:(e,t,i)=>{const{promisify:r}=i(3837);const n=i(7147);const optsArg=e=>{if(!e)e={mode:511&~process.umask(),fs:n};else if(typeof e==="object")e={mode:511&~process.umask(),fs:n,...e};else if(typeof e==="number")e={mode:e,fs:n};else if(typeof e==="string")e={mode:parseInt(e,8),fs:n};else throw new TypeError("invalid options argument");e.mkdir=e.mkdir||e.fs.mkdir||n.mkdir;e.mkdirAsync=r(e.mkdir);e.stat=e.stat||e.fs.stat||n.stat;e.statAsync=r(e.stat);e.statSync=e.statSync||e.fs.statSync||n.statSync;e.mkdirSync=e.mkdirSync||e.fs.mkdirSync||n.mkdirSync;return e};e.exports=optsArg},2930:(e,t,i)=>{const r=process.env.__TESTING_MKDIRP_PLATFORM__||process.platform;const{resolve:n,parse:s}=i(1017);const pathArg=e=>{if(/\0/.test(e)){throw Object.assign(new TypeError("path must be a string without null bytes"),{path:e,code:"ERR_INVALID_ARG_VALUE"})}e=n(e);if(r==="win32"){const t=/[*|"<>?:]/;const{root:i}=s(e);if(t.test(e.substr(i.length))){throw Object.assign(new Error("Illegal characters in path."),{path:e,code:"EINVAL"})}}return e};e.exports=pathArg},4518:(e,t,i)=>{const r=i(7147);const n=process.env.__TESTING_MKDIRP_NODE_VERSION__||process.version;const s=n.replace(/^v/,"").split(".");const o=+s[0]>10||+s[0]===10&&+s[1]>=12;const a=!o?()=>false:e=>e.mkdir===r.mkdir;const l=!o?()=>false:e=>e.mkdirSync===r.mkdirSync;e.exports={useNative:a,useNativeSync:l}},4833:e=>{e.exports=Pend;function Pend(){this.pending=0;this.max=Infinity;this.listeners=[];this.waiting=[];this.error=null}Pend.prototype.go=function(e){if(this.pending<this.max){pendGo(this,e)}else{this.waiting.push(e)}};Pend.prototype.wait=function(e){if(this.pending===0){e(this.error)}else{this.listeners.push(e)}};Pend.prototype.hold=function(){return pendHold(this)};function pendHold(e){e.pending+=1;var t=false;return onCb;function onCb(i){if(t)throw new Error("callback called twice");t=true;e.error=e.error||i;e.pending-=1;if(e.waiting.length>0&&e.pending<e.max){pendGo(e,e.waiting.shift())}else if(e.pending===0){var r=e.listeners;e.listeners=[];r.forEach(cbListener)}}function cbListener(t){t(e.error)}}function pendGo(e,t){t(pendHold(e))}},4674:(e,t,i)=>{"use strict";var r;r=i(4016);r=i(5923);r=i(1525);r=i(4404);r=i(5317);i(7900);i(7628);t.Parse=i(8917);i(8116);i(5450);i(6043);i(7996);i(4173)},4016:(e,t,i)=>{"use strict";const r=i(5274);const n=i(7900);const s=i(7714);const o=i(1525);const a=i(1017);e.exports=(e,t,i)=>{if(typeof t==="function"){i=t}if(Array.isArray(e)){t=e,e={}}if(!t||!Array.isArray(t)||!t.length){throw new TypeError("no files or directories specified")}t=Array.from(t);const n=r(e);if(n.sync&&typeof i==="function"){throw new TypeError("callback not supported for sync tar functions")}if(!n.file&&typeof i==="function"){throw new TypeError("callback only supported with file option")}return n.file&&n.sync?createFileSync(n,t):n.file?createFile(n,t,i):n.sync?createSync(n,t):create(n,t)};const createFileSync=(e,t)=>{const i=new n.Sync(e);const r=new s.WriteStreamSync(e.file,{mode:e.mode||438});i.pipe(r);addFilesSync(i,t)};const createFile=(e,t,i)=>{const r=new n(e);const o=new s.WriteStream(e.file,{mode:e.mode||438});r.pipe(o);const a=new Promise(((e,t)=>{o.on("error",t);o.on("close",e);r.on("error",t)}));addFilesAsync(r,t);return i?a.then(i,i):a};const addFilesSync=(e,t)=>{t.forEach((t=>{if(t.charAt(0)==="@"){o({file:a.resolve(e.cwd,t.slice(1)),sync:true,noResume:true,onentry:t=>e.add(t)})}else{e.add(t)}}));e.end()};const addFilesAsync=(e,t)=>{while(t.length){const i=t.shift();if(i.charAt(0)==="@"){return o({file:a.resolve(e.cwd,i.slice(1)),noResume:true,onentry:t=>e.add(t)}).then((i=>addFilesAsync(e,t)))}else{e.add(i)}}e.end()};const createSync=(e,t)=>{const i=new n.Sync(e);addFilesSync(i,t);return i};const create=(e,t)=>{const i=new n(e);addFilesAsync(i,t);return i}},5317:(e,t,i)=>{"use strict";const r=i(5274);const n=i(7628);const s=i(7147);const o=i(7714);const a=i(1017);const l=i(8886);e.exports=(e,t,i)=>{if(typeof e==="function"){i=e,t=null,e={}}else if(Array.isArray(e)){t=e,e={}}if(typeof t==="function"){i=t,t=null}if(!t){t=[]}else{t=Array.from(t)}const n=r(e);if(n.sync&&typeof i==="function"){throw new TypeError("callback not supported for sync tar functions")}if(!n.file&&typeof i==="function"){throw new TypeError("callback only supported with file option")}if(t.length){filesFilter(n,t)}return n.file&&n.sync?extractFileSync(n):n.file?extractFile(n,i):n.sync?extractSync(n):extract(n)};const filesFilter=(e,t)=>{const i=new Map(t.map((e=>[l(e),true])));const r=e.filter;const mapHas=(e,t)=>{const r=t||a.parse(e).root||".";const n=e===r?false:i.has(e)?i.get(e):mapHas(a.dirname(e),r);i.set(e,n);return n};e.filter=r?(e,t)=>r(e,t)&&mapHas(l(e)):e=>mapHas(l(e))};const extractFileSync=e=>{const t=new n.Sync(e);const i=e.file;const r=s.statSync(i);const a=e.maxReadSize||16*1024*1024;const l=new o.ReadStreamSync(i,{readSize:a,size:r.size});l.pipe(t)};const extractFile=(e,t)=>{const i=new n(e);const r=e.maxReadSize||16*1024*1024;const a=e.file;const l=new Promise(((e,t)=>{i.on("error",t);i.on("close",e);s.stat(a,((e,n)=>{if(e){t(e)}else{const e=new o.ReadStream(a,{readSize:r,size:n.size});e.on("error",t);e.pipe(i)}}))}));return t?l.then(t,t):l};const extractSync=e=>new n.Sync(e);const extract=e=>new n(e)},1172:(e,t,i)=>{const r=process.env.__FAKE_PLATFORM__||process.platform;const n=r==="win32";const s=global.__FAKE_TESTING_FS__||i(7147);const{O_CREAT:o,O_TRUNC:a,O_WRONLY:l,UV_FS_O_FILEMAP:h=0}=s.constants;const c=n&&!!h;const u=512*1024;const d=h|a|o|l;e.exports=!c?()=>"w":e=>e<u?d:"w"},6043:(e,t,i)=>{"use strict";const r=i(4173);const n=i(1017).posix;const s=i(2370);const o=Symbol("slurp");const a=Symbol("type");class Header{constructor(e,t,i,r){this.cksumValid=false;this.needPax=false;this.nullBlock=false;this.block=null;this.path=null;this.mode=null;this.uid=null;this.gid=null;this.size=null;this.mtime=null;this.cksum=null;this[a]="0";this.linkpath=null;this.uname=null;this.gname=null;this.devmaj=0;this.devmin=0;this.atime=null;this.ctime=null;if(Buffer.isBuffer(e)){this.decode(e,t||0,i,r)}else if(e){this.set(e)}}decode(e,t,i,r){if(!t){t=0}if(!e||!(e.length>=t+512)){throw new Error("need 512 bytes for header")}this.path=decString(e,t,100);this.mode=decNumber(e,t+100,8);this.uid=decNumber(e,t+108,8);this.gid=decNumber(e,t+116,8);this.size=decNumber(e,t+124,12);this.mtime=decDate(e,t+136,12);this.cksum=decNumber(e,t+148,12);this[o](i);this[o](r,true);this[a]=decString(e,t+156,1);if(this[a]===""){this[a]="0"}if(this[a]==="0"&&this.path.slice(-1)==="/"){this[a]="5"}if(this[a]==="5"){this.size=0}this.linkpath=decString(e,t+157,100);if(e.slice(t+257,t+265).toString()==="ustar\x0000"){this.uname=decString(e,t+265,32);this.gname=decString(e,t+297,32);this.devmaj=decNumber(e,t+329,8);this.devmin=decNumber(e,t+337,8);if(e[t+475]!==0){const i=decString(e,t+345,155);this.path=i+"/"+this.path}else{const i=decString(e,t+345,130);if(i){this.path=i+"/"+this.path}this.atime=decDate(e,t+476,12);this.ctime=decDate(e,t+488,12)}}let n=8*32;for(let i=t;i<t+148;i++){n+=e[i]}for(let i=t+156;i<t+512;i++){n+=e[i]}this.cksumValid=n===this.cksum;if(this.cksum===null&&n===8*32){this.nullBlock=true}}[o](e,t){for(const i in e){if(e[i]!==null&&e[i]!==undefined&&!(t&&i==="path")){this[i]=e[i]}}}encode(e,t){if(!e){e=this.block=Buffer.alloc(512);t=0}if(!t){t=0}if(!(e.length>=t+512)){throw new Error("need 512 bytes for header")}const i=this.ctime||this.atime?130:155;const r=splitPrefix(this.path||"",i);const n=r[0];const s=r[1];this.needPax=r[2];this.needPax=encString(e,t,100,n)||this.needPax;this.needPax=encNumber(e,t+100,8,this.mode)||this.needPax;this.needPax=encNumber(e,t+108,8,this.uid)||this.needPax;this.needPax=encNumber(e,t+116,8,this.gid)||this.needPax;this.needPax=encNumber(e,t+124,12,this.size)||this.needPax;this.needPax=encDate(e,t+136,12,this.mtime)||this.needPax;e[t+156]=this[a].charCodeAt(0);this.needPax=encString(e,t+157,100,this.linkpath)||this.needPax;e.write("ustar\x0000",t+257,8);this.needPax=encString(e,t+265,32,this.uname)||this.needPax;this.needPax=encString(e,t+297,32,this.gname)||this.needPax;this.needPax=encNumber(e,t+329,8,this.devmaj)||this.needPax;this.needPax=encNumber(e,t+337,8,this.devmin)||this.needPax;this.needPax=encString(e,t+345,i,s)||this.needPax;if(e[t+475]!==0){this.needPax=encString(e,t+345,155,s)||this.needPax}else{this.needPax=encString(e,t+345,130,s)||this.needPax;this.needPax=encDate(e,t+476,12,this.atime)||this.needPax;this.needPax=encDate(e,t+488,12,this.ctime)||this.needPax}let o=8*32;for(let i=t;i<t+148;i++){o+=e[i]}for(let i=t+156;i<t+512;i++){o+=e[i]}this.cksum=o;encNumber(e,t+148,8,this.cksum);this.cksumValid=true;return this.needPax}set(e){for(const t in e){if(e[t]!==null&&e[t]!==undefined){this[t]=e[t]}}}get type(){return r.name.get(this[a])||this[a]}get typeKey(){return this[a]}set type(e){if(r.code.has(e)){this[a]=r.code.get(e)}else{this[a]=e}}}const splitPrefix=(e,t)=>{const i=100;let r=e;let s="";let o;const a=n.parse(e).root||".";if(Buffer.byteLength(r)<i){o=[r,s,false]}else{s=n.dirname(r);r=n.basename(r);do{if(Buffer.byteLength(r)<=i&&Buffer.byteLength(s)<=t){o=[r,s,false]}else if(Buffer.byteLength(r)>i&&Buffer.byteLength(s)<=t){o=[r.slice(0,i-1),s,true]}else{r=n.join(n.basename(s),r);s=n.dirname(s)}}while(s!==a&&!o);if(!o){o=[e.slice(0,i-1),"",true]}}return o};const decString=(e,t,i)=>e.slice(t,t+i).toString("utf8").replace(/\0.*/,"");const decDate=(e,t,i)=>numToDate(decNumber(e,t,i));const numToDate=e=>e===null?null:new Date(e*1e3);const decNumber=(e,t,i)=>e[t]&128?s.parse(e.slice(t,t+i)):decSmallNumber(e,t,i);const nanNull=e=>isNaN(e)?null:e;const decSmallNumber=(e,t,i)=>nanNull(parseInt(e.slice(t,t+i).toString("utf8").replace(/\0.*$/,"").trim(),8));const l={12:8589934591,8:2097151};const encNumber=(e,t,i,r)=>r===null?false:r>l[i]||r<0?(s.encode(r,e.slice(t,t+i)),true):(encSmallNumber(e,t,i,r),false);const encSmallNumber=(e,t,i,r)=>e.write(octalString(r,i),t,i,"ascii");const octalString=(e,t)=>padOctal(Math.floor(e).toString(8),t);const padOctal=(e,t)=>(e.length===t-1?e:new Array(t-e.length-1).join("0")+e+" ")+"\0";const encDate=(e,t,i,r)=>r===null?false:encNumber(e,t,i,r.getTime()/1e3);const h=new Array(156).join("\0");const encString=(e,t,i,r)=>r===null?false:(e.write(r+h,t,i,"utf8"),r.length!==Buffer.byteLength(r)||r.length>i);e.exports=Header},5274:e=>{"use strict";const t=new Map([["C","cwd"],["f","file"],["z","gzip"],["P","preservePaths"],["U","unlink"],["strip-components","strip"],["stripComponents","strip"],["keep-newer","newer"],["keepNewer","newer"],["keep-newer-files","newer"],["keepNewerFiles","newer"],["k","keep"],["keep-existing","keep"],["keepExisting","keep"],["m","noMtime"],["no-mtime","noMtime"],["p","preserveOwner"],["L","follow"],["h","follow"]]);e.exports=e=>e?Object.keys(e).map((i=>[t.has(i)?t.get(i):i,e[i]])).reduce(((e,t)=>(e[t[0]]=t[1],e)),Object.create(null)):{}},2370:e=>{"use strict";const encode=(e,t)=>{if(!Number.isSafeInteger(e)){throw Error("cannot encode number outside of javascript safe integer range")}else if(e<0){encodeNegative(e,t)}else{encodePositive(e,t)}return t};const encodePositive=(e,t)=>{t[0]=128;for(var i=t.length;i>1;i--){t[i-1]=e&255;e=Math.floor(e/256)}};const encodeNegative=(e,t)=>{t[0]=255;var i=false;e=e*-1;for(var r=t.length;r>1;r--){var n=e&255;e=Math.floor(e/256);if(i){t[r-1]=onesComp(n)}else if(n===0){t[r-1]=0}else{i=true;t[r-1]=twosComp(n)}}};const parse=e=>{const t=e[0];const i=t===128?pos(e.slice(1,e.length)):t===255?twos(e):null;if(i===null){throw Error("invalid base256 encoding")}if(!Number.isSafeInteger(i)){throw Error("parsed number outside of javascript safe integer range")}return i};const twos=e=>{var t=e.length;var i=0;var r=false;for(var n=t-1;n>-1;n--){var s=e[n];var o;if(r){o=onesComp(s)}else if(s===0){o=s}else{r=true;o=twosComp(s)}if(o!==0){i-=o*Math.pow(256,t-n-1)}}return i};const pos=e=>{var t=e.length;var i=0;for(var r=t-1;r>-1;r--){var n=e[r];if(n!==0){i+=n*Math.pow(256,t-r-1)}}return i};const onesComp=e=>(255^e)&255;const twosComp=e=>(255^e)+1&255;e.exports={encode:encode,parse:parse}},1525:(e,t,i)=>{"use strict";const r=i(5274);const n=i(8917);const s=i(7147);const o=i(7714);const a=i(1017);const l=i(8886);e.exports=(e,t,i)=>{if(typeof e==="function"){i=e,t=null,e={}}else if(Array.isArray(e)){t=e,e={}}if(typeof t==="function"){i=t,t=null}if(!t){t=[]}else{t=Array.from(t)}const n=r(e);if(n.sync&&typeof i==="function"){throw new TypeError("callback not supported for sync tar functions")}if(!n.file&&typeof i==="function"){throw new TypeError("callback only supported with file option")}if(t.length){filesFilter(n,t)}if(!n.noResume){onentryFunction(n)}return n.file&&n.sync?listFileSync(n):n.file?listFile(n,i):list(n)};const onentryFunction=e=>{const t=e.onentry;e.onentry=t?e=>{t(e);e.resume()}:e=>e.resume()};const filesFilter=(e,t)=>{const i=new Map(t.map((e=>[l(e),true])));const r=e.filter;const mapHas=(e,t)=>{const r=t||a.parse(e).root||".";const n=e===r?false:i.has(e)?i.get(e):mapHas(a.dirname(e),r);i.set(e,n);return n};e.filter=r?(e,t)=>r(e,t)&&mapHas(l(e)):e=>mapHas(l(e))};const listFileSync=e=>{const t=list(e);const i=e.file;let r=true;let n;try{const o=s.statSync(i);const a=e.maxReadSize||16*1024*1024;if(o.size<a){t.end(s.readFileSync(i))}else{let e=0;const r=Buffer.allocUnsafe(a);n=s.openSync(i,"r");while(e<o.size){const i=s.readSync(n,r,0,a,e);e+=i;t.write(r.slice(0,i))}t.end()}r=false}finally{if(r&&n){try{s.closeSync(n)}catch(e){}}}};const listFile=(e,t)=>{const i=new n(e);const r=e.maxReadSize||16*1024*1024;const a=e.file;const l=new Promise(((e,t)=>{i.on("error",t);i.on("end",e);s.stat(a,((e,n)=>{if(e){t(e)}else{const e=new o.ReadStream(a,{readSize:r,size:n.size});e.on("error",t);e.pipe(i)}}))}));return t?l.then(t,t):l};const list=e=>new n(e)},9624:(e,t,i)=>{"use strict";const r=i(6186);const n=i(7147);const s=i(1017);const o=i(9051);const a=i(6843);class SymlinkError extends Error{constructor(e,t){super("Cannot extract through symbolic link");this.path=t;this.symlink=e}get name(){return"SylinkError"}}class CwdError extends Error{constructor(e,t){super(t+": Cannot cd into '"+e+"'");this.path=e;this.code=t}get name(){return"CwdError"}}const cGet=(e,t)=>e.get(a(t));const cSet=(e,t,i)=>e.set(a(t),i);const checkCwd=(e,t)=>{n.stat(e,((i,r)=>{if(i||!r.isDirectory()){i=new CwdError(e,i&&i.code||"ENOTDIR")}t(i)}))};e.exports=(e,t,i)=>{e=a(e);const l=t.umask;const h=t.mode|448;const c=(h&l)!==0;const u=t.uid;const d=t.gid;const p=typeof u==="number"&&typeof d==="number"&&(u!==t.processUid||d!==t.processGid);const m=t.preserve;const _=t.unlink;const y=t.cache;const v=a(t.cwd);const done=(t,r)=>{if(t){i(t)}else{cSet(y,e,true);if(r&&p){o(r,u,d,(e=>done(e)))}else if(c){n.chmod(e,h,i)}else{i()}}};if(y&&cGet(y,e)===true){return done()}if(e===v){return checkCwd(e,done)}if(m){return r(e,{mode:h}).then((e=>done(null,e)),done)}const b=a(s.relative(v,e));const g=b.split("/");mkdir_(v,g,h,y,_,v,null,done)};const mkdir_=(e,t,i,r,o,l,h,c)=>{if(!t.length){return c(null,h)}const u=t.shift();const d=a(s.resolve(e+"/"+u));if(cGet(r,d)){return mkdir_(d,t,i,r,o,l,h,c)}n.mkdir(d,i,onmkdir(d,t,i,r,o,l,h,c))};const onmkdir=(e,t,i,r,s,o,l,h)=>c=>{if(c){n.lstat(e,((u,d)=>{if(u){u.path=u.path&&a(u.path);h(u)}else if(d.isDirectory()){mkdir_(e,t,i,r,s,o,l,h)}else if(s){n.unlink(e,(a=>{if(a){return h(a)}n.mkdir(e,i,onmkdir(e,t,i,r,s,o,l,h))}))}else if(d.isSymbolicLink()){return h(new SymlinkError(e,e+"/"+t.join("/")))}else{h(c)}}))}else{l=l||e;mkdir_(e,t,i,r,s,o,l,h)}};const checkCwdSync=e=>{let t=false;let i="ENOTDIR";try{t=n.statSync(e).isDirectory()}catch(e){i=e.code}finally{if(!t){throw new CwdError(e,i)}}};e.exports.sync=(e,t)=>{e=a(e);const i=t.umask;const l=t.mode|448;const h=(l&i)!==0;const c=t.uid;const u=t.gid;const d=typeof c==="number"&&typeof u==="number"&&(c!==t.processUid||u!==t.processGid);const p=t.preserve;const m=t.unlink;const _=t.cache;const y=a(t.cwd);const done=t=>{cSet(_,e,true);if(t&&d){o.sync(t,c,u)}if(h){n.chmodSync(e,l)}};if(_&&cGet(_,e)===true){return done()}if(e===y){checkCwdSync(y);return done()}if(p){return done(r.sync(e,l))}const v=a(s.relative(y,e));const b=v.split("/");let g=null;for(let e=b.shift(),t=y;e&&(t+="/"+e);e=b.shift()){t=a(s.resolve(t));if(cGet(_,t)){continue}try{n.mkdirSync(t,l);g=g||t;cSet(_,t,true)}catch(e){const i=n.lstatSync(t);if(i.isDirectory()){cSet(_,t,true);continue}else if(m){n.unlinkSync(t);n.mkdirSync(t,l);g=g||t;cSet(_,t,true);continue}else if(i.isSymbolicLink()){return new SymlinkError(t,t+"/"+b.join("/"))}}}return done(g)}},8371:e=>{"use strict";e.exports=(e,t,i)=>{e&=4095;if(i){e=(e|384)&~18}if(t){if(e&256){e|=64}if(e&32){e|=8}if(e&4){e|=1}}return e}},7118:e=>{const t=Object.create(null);const{hasOwnProperty:i}=Object.prototype;e.exports=e=>{if(!i.call(t,e)){t[e]=e.normalize("NFD")}return t[e]}},6843:e=>{const t=process.env.TESTING_TAR_FAKE_PLATFORM||process.platform;e.exports=t!=="win32"?e=>e:e=>e&&e.replace(/\\/g,"/")},7900:(e,t,i)=>{"use strict";class PackJob{constructor(e,t){this.path=e||"./";this.absolute=t;this.entry=null;this.stat=null;this.readdir=null;this.pending=false;this.ignore=false;this.piped=false}}const{Minipass:r}=i(6684);const n=i(3486);const s=i(8116);const o=i(5450);const a=o.Sync;const l=o.Tar;const h=i(665);const c=Buffer.alloc(1024);const u=Symbol("onStat");const d=Symbol("ended");const p=Symbol("queue");const m=Symbol("current");const _=Symbol("process");const y=Symbol("processing");const v=Symbol("processJob");const b=Symbol("jobs");const g=Symbol("jobDone");const w=Symbol("addFSEntry");const S=Symbol("addTarEntry");const E=Symbol("stat");const x=Symbol("readdir");const R=Symbol("onreaddir");const O=Symbol("pipe");const k=Symbol("entry");const L=Symbol("entryOpt");const N=Symbol("writeEntryClass");const A=Symbol("write");const T=Symbol("ondrain");const I=i(7147);const F=i(1017);const B=i(5899);const C=i(6843);const D=B(class Pack extends r{constructor(e){super(e);e=e||Object.create(null);this.opt=e;this.file=e.file||"";this.cwd=e.cwd||process.cwd();this.maxReadSize=e.maxReadSize;this.preservePaths=!!e.preservePaths;this.strict=!!e.strict;this.noPax=!!e.noPax;this.prefix=C(e.prefix||"");this.linkCache=e.linkCache||new Map;this.statCache=e.statCache||new Map;this.readdirCache=e.readdirCache||new Map;this[N]=o;if(typeof e.onwarn==="function"){this.on("warn",e.onwarn)}this.portable=!!e.portable;this.zip=null;if(e.gzip||e.brotli){if(e.gzip&&e.brotli){throw new TypeError("gzip and brotli are mutually exclusive")}if(e.gzip){if(typeof e.gzip!=="object"){e.gzip={}}if(this.portable){e.gzip.portable=true}this.zip=new n.Gzip(e.gzip)}if(e.brotli){if(typeof e.brotli!=="object"){e.brotli={}}this.zip=new n.BrotliCompress(e.brotli)}this.zip.on("data",(e=>super.write(e)));this.zip.on("end",(e=>super.end()));this.zip.on("drain",(e=>this[T]()));this.on("resume",(e=>this.zip.resume()))}else{this.on("drain",this[T])}this.noDirRecurse=!!e.noDirRecurse;this.follow=!!e.follow;this.noMtime=!!e.noMtime;this.mtime=e.mtime||null;this.filter=typeof e.filter==="function"?e.filter:e=>true;this[p]=new h;this[b]=0;this.jobs=+e.jobs||4;this[y]=false;this[d]=false}[A](e){return super.write(e)}add(e){this.write(e);return this}end(e){if(e){this.write(e)}this[d]=true;this[_]();return this}write(e){if(this[d]){throw new Error("write after end")}if(e instanceof s){this[S](e)}else{this[w](e)}return this.flowing}[S](e){const t=C(F.resolve(this.cwd,e.path));if(!this.filter(e.path,e)){e.resume()}else{const i=new PackJob(e.path,t,false);i.entry=new l(e,this[L](i));i.entry.on("end",(e=>this[g](i)));this[b]+=1;this[p].push(i)}this[_]()}[w](e){const t=C(F.resolve(this.cwd,e));this[p].push(new PackJob(e,t));this[_]()}[E](e){e.pending=true;this[b]+=1;const t=this.follow?"stat":"lstat";I[t](e.absolute,((t,i)=>{e.pending=false;this[b]-=1;if(t){this.emit("error",t)}else{this[u](e,i)}}))}[u](e,t){this.statCache.set(e.absolute,t);e.stat=t;if(!this.filter(e.path,t)){e.ignore=true}this[_]()}[x](e){e.pending=true;this[b]+=1;I.readdir(e.absolute,((t,i)=>{e.pending=false;this[b]-=1;if(t){return this.emit("error",t)}this[R](e,i)}))}[R](e,t){this.readdirCache.set(e.absolute,t);e.readdir=t;this[_]()}[_](){if(this[y]){return}this[y]=true;for(let e=this[p].head;e!==null&&this[b]<this.jobs;e=e.next){this[v](e.value);if(e.value.ignore){const t=e.next;this[p].removeNode(e);e.next=t}}this[y]=false;if(this[d]&&!this[p].length&&this[b]===0){if(this.zip){this.zip.end(c)}else{super.write(c);super.end()}}}get[m](){return this[p]&&this[p].head&&this[p].head.value}[g](e){this[p].shift();this[b]-=1;this[_]()}[v](e){if(e.pending){return}if(e.entry){if(e===this[m]&&!e.piped){this[O](e)}return}if(!e.stat){if(this.statCache.has(e.absolute)){this[u](e,this.statCache.get(e.absolute))}else{this[E](e)}}if(!e.stat){return}if(e.ignore){return}if(!this.noDirRecurse&&e.stat.isDirectory()&&!e.readdir){if(this.readdirCache.has(e.absolute)){this[R](e,this.readdirCache.get(e.absolute))}else{this[x](e)}if(!e.readdir){return}}e.entry=this[k](e);if(!e.entry){e.ignore=true;return}if(e===this[m]&&!e.piped){this[O](e)}}[L](e){return{onwarn:(e,t,i)=>this.warn(e,t,i),noPax:this.noPax,cwd:this.cwd,absolute:e.absolute,preservePaths:this.preservePaths,maxReadSize:this.maxReadSize,strict:this.strict,portable:this.portable,linkCache:this.linkCache,statCache:this.statCache,noMtime:this.noMtime,mtime:this.mtime,prefix:this.prefix}}[k](e){this[b]+=1;try{return new this[N](e.path,this[L](e)).on("end",(()=>this[g](e))).on("error",(e=>this.emit("error",e)))}catch(e){this.emit("error",e)}}[T](){if(this[m]&&this[m].entry){this[m].entry.resume()}}[O](e){e.piped=true;if(e.readdir){e.readdir.forEach((t=>{const i=e.path;const r=i==="./"?"":i.replace(/\/*$/,"/");this[w](r+t)}))}const t=e.entry;const i=this.zip;if(i){t.on("data",(e=>{if(!i.write(e)){t.pause()}}))}else{t.on("data",(e=>{if(!super.write(e)){t.pause()}}))}}pause(){if(this.zip){this.zip.pause()}return super.pause()}});class PackSync extends D{constructor(e){super(e);this[N]=a}pause(){}resume(){}[E](e){const t=this.follow?"statSync":"lstatSync";this[u](e,I[t](e.absolute))}[x](e,t){this[R](e,I.readdirSync(e.absolute))}[O](e){const t=e.entry;const i=this.zip;if(e.readdir){e.readdir.forEach((t=>{const i=e.path;const r=i==="./"?"":i.replace(/\/*$/,"/");this[w](r+t)}))}if(i){t.on("data",(e=>{i.write(e)}))}else{t.on("data",(e=>{super[A](e)}))}}}D.Sync=PackSync;e.exports=D},8917:(e,t,i)=>{"use strict";const r=i(5899);const n=i(6043);const s=i(2361);const o=i(665);const a=1024*1024;const l=i(8116);const h=i(7996);const c=i(3486);const{nextTick:u}=i(7282);const d=Buffer.from([31,139]);const p=Symbol("state");const m=Symbol("writeEntry");const _=Symbol("readEntry");const y=Symbol("nextEntry");const v=Symbol("processEntry");const b=Symbol("extendedHeader");const g=Symbol("globalExtendedHeader");const w=Symbol("meta");const S=Symbol("emitMeta");const E=Symbol("buffer");const x=Symbol("queue");const R=Symbol("ended");const O=Symbol("emittedEnd");const k=Symbol("emit");const L=Symbol("unzip");const N=Symbol("consumeChunk");const A=Symbol("consumeChunkSub");const T=Symbol("consumeBody");const I=Symbol("consumeMeta");const F=Symbol("consumeHeader");const B=Symbol("consuming");const C=Symbol("bufferConcat");const D=Symbol("maybeEnd");const M=Symbol("writing");const P=Symbol("aborted");const z=Symbol("onDone");const U=Symbol("sawValidEntry");const W=Symbol("sawNullBlock");const j=Symbol("sawEOF");const Y=Symbol("closeStream");const noop=e=>true;e.exports=r(class Parser extends s{constructor(e){e=e||{};super(e);this.file=e.file||"";this[U]=null;this.on(z,(e=>{if(this[p]==="begin"||this[U]===false){this.warn("TAR_BAD_ARCHIVE","Unrecognized archive format")}}));if(e.ondone){this.on(z,e.ondone)}else{this.on(z,(e=>{this.emit("prefinish");this.emit("finish");this.emit("end")}))}this.strict=!!e.strict;this.maxMetaEntrySize=e.maxMetaEntrySize||a;this.filter=typeof e.filter==="function"?e.filter:noop;const t=e.file&&(e.file.endsWith(".tar.br")||e.file.endsWith(".tbr"));this.brotli=!e.gzip&&e.brotli!==undefined?e.brotli:t?undefined:false;this.writable=true;this.readable=false;this[x]=new o;this[E]=null;this[_]=null;this[m]=null;this[p]="begin";this[w]="";this[b]=null;this[g]=null;this[R]=false;this[L]=null;this[P]=false;this[W]=false;this[j]=false;this.on("end",(()=>this[Y]()));if(typeof e.onwarn==="function"){this.on("warn",e.onwarn)}if(typeof e.onentry==="function"){this.on("entry",e.onentry)}}[F](e,t){if(this[U]===null){this[U]=false}let i;try{i=new n(e,t,this[b],this[g])}catch(e){return this.warn("TAR_ENTRY_INVALID",e)}if(i.nullBlock){if(this[W]){this[j]=true;if(this[p]==="begin"){this[p]="header"}this[k]("eof")}else{this[W]=true;this[k]("nullBlock")}}else{this[W]=false;if(!i.cksumValid){this.warn("TAR_ENTRY_INVALID","checksum failure",{header:i})}else if(!i.path){this.warn("TAR_ENTRY_INVALID","path is required",{header:i})}else{const e=i.type;if(/^(Symbolic)?Link$/.test(e)&&!i.linkpath){this.warn("TAR_ENTRY_INVALID","linkpath required",{header:i})}else if(!/^(Symbolic)?Link$/.test(e)&&i.linkpath){this.warn("TAR_ENTRY_INVALID","linkpath forbidden",{header:i})}else{const e=this[m]=new l(i,this[b],this[g]);if(!this[U]){if(e.remain){const onend=()=>{if(!e.invalid){this[U]=true}};e.on("end",onend)}else{this[U]=true}}if(e.meta){if(e.size>this.maxMetaEntrySize){e.ignore=true;this[k]("ignoredEntry",e);this[p]="ignore";e.resume()}else if(e.size>0){this[w]="";e.on("data",(e=>this[w]+=e));this[p]="meta"}}else{this[b]=null;e.ignore=e.ignore||!this.filter(e.path,e);if(e.ignore){this[k]("ignoredEntry",e);this[p]=e.remain?"ignore":"header";e.resume()}else{if(e.remain){this[p]="body"}else{this[p]="header";e.end()}if(!this[_]){this[x].push(e);this[y]()}else{this[x].push(e)}}}}}}}[Y](){u((()=>this.emit("close")))}[v](e){let t=true;if(!e){this[_]=null;t=false}else if(Array.isArray(e)){this.emit.apply(this,e)}else{this[_]=e;this.emit("entry",e);if(!e.emittedEnd){e.on("end",(e=>this[y]()));t=false}}return t}[y](){do{}while(this[v](this[x].shift()));if(!this[x].length){const e=this[_];const t=!e||e.flowing||e.size===e.remain;if(t){if(!this[M]){this.emit("drain")}}else{e.once("drain",(e=>this.emit("drain")))}}}[T](e,t){const i=this[m];const r=i.blockRemain;const n=r>=e.length&&t===0?e:e.slice(t,t+r);i.write(n);if(!i.blockRemain){this[p]="header";this[m]=null;i.end()}return n.length}[I](e,t){const i=this[m];const r=this[T](e,t);if(!this[m]){this[S](i)}return r}[k](e,t,i){if(!this[x].length&&!this[_]){this.emit(e,t,i)}else{this[x].push([e,t,i])}}[S](e){this[k]("meta",this[w]);switch(e.type){case"ExtendedHeader":case"OldExtendedHeader":this[b]=h.parse(this[w],this[b],false);break;case"GlobalExtendedHeader":this[g]=h.parse(this[w],this[g],true);break;case"NextFileHasLongPath":case"OldGnuLongPath":this[b]=this[b]||Object.create(null);this[b].path=this[w].replace(/\0.*/,"");break;case"NextFileHasLongLinkpath":this[b]=this[b]||Object.create(null);this[b].linkpath=this[w].replace(/\0.*/,"");break;default:throw new Error("unknown meta: "+e.type)}}abort(e){this[P]=true;this.emit("abort",e);this.warn("TAR_ABORT",e,{recoverable:false})}write(e){if(this[P]){return}const t=this[L]===null||this.brotli===undefined&&this[L]===false;if(t&&e){if(this[E]){e=Buffer.concat([this[E],e]);this[E]=null}if(e.length<d.length){this[E]=e;return true}for(let t=0;this[L]===null&&t<d.length;t++){if(e[t]!==d[t]){this[L]=false}}const t=this.brotli===undefined;if(this[L]===false&&t){if(e.length<512){if(this[R]){this.brotli=true}else{this[E]=e;return true}}else{try{new n(e.slice(0,512));this.brotli=false}catch(e){this.brotli=true}}}if(this[L]===null||this[L]===false&&this.brotli){const t=this[R];this[R]=false;this[L]=this[L]===null?new c.Unzip:new c.BrotliDecompress;this[L].on("data",(e=>this[N](e)));this[L].on("error",(e=>this.abort(e)));this[L].on("end",(e=>{this[R]=true;this[N]()}));this[M]=true;const i=this[L][t?"end":"write"](e);this[M]=false;return i}}this[M]=true;if(this[L]){this[L].write(e)}else{this[N](e)}this[M]=false;const i=this[x].length?false:this[_]?this[_].flowing:true;if(!i&&!this[x].length){this[_].once("drain",(e=>this.emit("drain")))}return i}[C](e){if(e&&!this[P]){this[E]=this[E]?Buffer.concat([this[E],e]):e}}[D](){if(this[R]&&!this[O]&&!this[P]&&!this[B]){this[O]=true;const e=this[m];if(e&&e.blockRemain){const t=this[E]?this[E].length:0;this.warn("TAR_BAD_ARCHIVE",`Truncated input (needed ${e.blockRemain} more bytes, only ${t} available)`,{entry:e});if(this[E]){e.write(this[E])}e.end()}this[k](z)}}[N](e){if(this[B]){this[C](e)}else if(!e&&!this[E]){this[D]()}else{this[B]=true;if(this[E]){this[C](e);const t=this[E];this[E]=null;this[A](t)}else{this[A](e)}while(this[E]&&this[E].length>=512&&!this[P]&&!this[j]){const e=this[E];this[E]=null;this[A](e)}this[B]=false}if(!this[E]||this[R]){this[D]()}}[A](e){let t=0;const i=e.length;while(t+512<=i&&!this[P]&&!this[j]){switch(this[p]){case"begin":case"header":this[F](e,t);t+=512;break;case"ignore":case"body":t+=this[T](e,t);break;case"meta":t+=this[I](e,t);break;default:throw new Error("invalid state: "+this[p])}}if(t<i){if(this[E]){this[E]=Buffer.concat([e.slice(t),this[E]])}else{this[E]=e.slice(t)}}}end(e){if(!this[P]){if(this[L]){this[L].end(e)}else{this[R]=true;if(this.brotli===undefined)e=e||Buffer.alloc(0);this.write(e)}}}})},9587:(e,t,i)=>{const r=i(9491);const n=i(7118);const s=i(8886);const{join:o}=i(1017);const a=process.env.TESTING_TAR_FAKE_PLATFORM||process.platform;const l=a==="win32";e.exports=()=>{const e=new Map;const t=new Map;const getDirs=e=>{const t=e.split("/").slice(0,-1).reduce(((e,t)=>{if(e.length){t=o(e[e.length-1],t)}e.push(t||"/");return e}),[]);return t};const i=new Set;const getQueues=i=>{const r=t.get(i);if(!r){throw new Error("function does not have any path reservations")}return{paths:r.paths.map((t=>e.get(t))),dirs:[...r.dirs].map((t=>e.get(t)))}};const check=e=>{const{paths:t,dirs:i}=getQueues(e);return t.every((t=>t[0]===e))&&i.every((t=>t[0]instanceof Set&&t[0].has(e)))};const run=e=>{if(i.has(e)||!check(e)){return false}i.add(e);e((()=>clear(e)));return true};const clear=n=>{if(!i.has(n)){return false}const{paths:s,dirs:o}=t.get(n);const a=new Set;s.forEach((t=>{const i=e.get(t);r.equal(i[0],n);if(i.length===1){e.delete(t)}else{i.shift();if(typeof i[0]==="function"){a.add(i[0])}else{i[0].forEach((e=>a.add(e)))}}}));o.forEach((t=>{const i=e.get(t);r(i[0]instanceof Set);if(i[0].size===1&&i.length===1){e.delete(t)}else if(i[0].size===1){i.shift();a.add(i[0])}else{i[0].delete(n)}}));i.delete(n);a.forEach((e=>run(e)));return true};const reserve=(i,r)=>{i=l?["win32 parallelization disabled"]:i.map((e=>s(o(n(e))).toLowerCase()));const a=new Set(i.map((e=>getDirs(e))).reduce(((e,t)=>e.concat(t))));t.set(r,{dirs:a,paths:i});i.forEach((t=>{const i=e.get(t);if(!i){e.set(t,[r])}else{i.push(r)}}));a.forEach((t=>{const i=e.get(t);if(!i){e.set(t,[new Set([r])])}else if(i[i.length-1]instanceof Set){i[i.length-1].add(r)}else{i.push(new Set([r]))}}));return run(r)};return{check:check,reserve:reserve}}},7996:(e,t,i)=>{"use strict";const r=i(6043);const n=i(1017);class Pax{constructor(e,t){this.atime=e.atime||null;this.charset=e.charset||null;this.comment=e.comment||null;this.ctime=e.ctime||null;this.gid=e.gid||null;this.gname=e.gname||null;this.linkpath=e.linkpath||null;this.mtime=e.mtime||null;this.path=e.path||null;this.size=e.size||null;this.uid=e.uid||null;this.uname=e.uname||null;this.dev=e.dev||null;this.ino=e.ino||null;this.nlink=e.nlink||null;this.global=t||false}encode(){const e=this.encodeBody();if(e===""){return null}const t=Buffer.byteLength(e);const i=512*Math.ceil(1+t/512);const s=Buffer.allocUnsafe(i);for(let e=0;e<512;e++){s[e]=0}new r({path:("PaxHeader/"+n.basename(this.path)).slice(0,99),mode:this.mode||420,uid:this.uid||null,gid:this.gid||null,size:t,mtime:this.mtime||null,type:this.global?"GlobalExtendedHeader":"ExtendedHeader",linkpath:"",uname:this.uname||"",gname:this.gname||"",devmaj:0,devmin:0,atime:this.atime||null,ctime:this.ctime||null}).encode(s);s.write(e,512,t,"utf8");for(let e=t+512;e<s.length;e++){s[e]=0}return s}encodeBody(){return this.encodeField("path")+this.encodeField("ctime")+this.encodeField("atime")+this.encodeField("dev")+this.encodeField("ino")+this.encodeField("nlink")+this.encodeField("charset")+this.encodeField("comment")+this.encodeField("gid")+this.encodeField("gname")+this.encodeField("linkpath")+this.encodeField("mtime")+this.encodeField("size")+this.encodeField("uid")+this.encodeField("uname")}encodeField(e){if(this[e]===null||this[e]===undefined){return""}const t=this[e]instanceof Date?this[e].getTime()/1e3:this[e];const i=" "+(e==="dev"||e==="ino"||e==="nlink"?"SCHILY.":"")+e+"="+t+"\n";const r=Buffer.byteLength(i);let n=Math.floor(Math.log(r)/Math.log(10))+1;if(r+n>=Math.pow(10,n)){n+=1}const s=n+r;return s+i}}Pax.parse=(e,t,i)=>new Pax(merge(parseKV(e),t),i);const merge=(e,t)=>t?Object.keys(e).reduce(((t,i)=>(t[i]=e[i],t)),t):e;const parseKV=e=>e.replace(/\n$/,"").split("\n").reduce(parseKVLine,Object.create(null));const parseKVLine=(e,t)=>{const i=parseInt(t,10);if(i!==Buffer.byteLength(t)+1){return e}t=t.slice((i+" ").length);const r=t.split("=");const n=r.shift().replace(/^SCHILY\.(dev|ino|nlink)/,"$1");if(!n){return e}const s=r.join("=");e[n]=/^([A-Z]+\.)?([mac]|birth|creation)time$/.test(n)?new Date(s*1e3):/^[0-9]+$/.test(s)?+s:s;return e};e.exports=Pax},8116:(e,t,i)=>{"use strict";const{Minipass:r}=i(6684);const n=i(6843);const s=Symbol("slurp");e.exports=class ReadEntry extends r{constructor(e,t,i){super();this.pause();this.extended=t;this.globalExtended=i;this.header=e;this.startBlockSize=512*Math.ceil(e.size/512);this.blockRemain=this.startBlockSize;this.remain=e.size;this.type=e.type;this.meta=false;this.ignore=false;switch(this.type){case"File":case"OldFile":case"Link":case"SymbolicLink":case"CharacterDevice":case"BlockDevice":case"Directory":case"FIFO":case"ContiguousFile":case"GNUDumpDir":break;case"NextFileHasLongLinkpath":case"NextFileHasLongPath":case"OldGnuLongPath":case"GlobalExtendedHeader":case"ExtendedHeader":case"OldExtendedHeader":this.meta=true;break;default:this.ignore=true}this.path=n(e.path);this.mode=e.mode;if(this.mode){this.mode=this.mode&4095}this.uid=e.uid;this.gid=e.gid;this.uname=e.uname;this.gname=e.gname;this.size=e.size;this.mtime=e.mtime;this.atime=e.atime;this.ctime=e.ctime;this.linkpath=n(e.linkpath);this.uname=e.uname;this.gname=e.gname;if(t){this[s](t)}if(i){this[s](i,true)}}write(e){const t=e.length;if(t>this.blockRemain){throw new Error("writing more to entry than is appropriate")}const i=this.remain;const r=this.blockRemain;this.remain=Math.max(0,i-t);this.blockRemain=Math.max(0,r-t);if(this.ignore){return true}if(i>=t){return super.write(e)}return super.write(e.slice(0,i))}[s](e,t){for(const i in e){if(e[i]!==null&&e[i]!==undefined&&!(t&&i==="path")){this[i]=i==="path"||i==="linkpath"?n(e[i]):e[i]}}}}},5923:(e,t,i)=>{"use strict";const r=i(5274);const n=i(7900);const s=i(7147);const o=i(7714);const a=i(1525);const l=i(1017);const h=i(6043);e.exports=(e,t,i)=>{const n=r(e);if(!n.file){throw new TypeError("file is required")}if(n.gzip||n.brotli||n.file.endsWith(".br")||n.file.endsWith(".tbr")){throw new TypeError("cannot append to compressed archives")}if(!t||!Array.isArray(t)||!t.length){throw new TypeError("no files or directories specified")}t=Array.from(t);return n.sync?replaceSync(n,t):replace(n,t,i)};const replaceSync=(e,t)=>{const i=new n.Sync(e);let r=true;let o;let a;try{try{o=s.openSync(e.file,"r+")}catch(t){if(t.code==="ENOENT"){o=s.openSync(e.file,"w+")}else{throw t}}const n=s.fstatSync(o);const l=Buffer.alloc(512);e:for(a=0;a<n.size;a+=512){for(let e=0,t=0;e<512;e+=t){t=s.readSync(o,l,e,l.length-e,a+e);if(a===0&&l[0]===31&&l[1]===139){throw new Error("cannot append to compressed archives")}if(!t){break e}}const t=new h(l);if(!t.cksumValid){break}const i=512*Math.ceil(t.size/512);if(a+i+512>n.size){break}a+=i;if(e.mtimeCache){e.mtimeCache.set(t.path,t.mtime)}}r=false;streamSync(e,i,a,o,t)}finally{if(r){try{s.closeSync(o)}catch(e){}}}};const streamSync=(e,t,i,r,n)=>{const s=new o.WriteStreamSync(e.file,{fd:r,start:i});t.pipe(s);addFilesSync(t,n)};const replace=(e,t,i)=>{t=Array.from(t);const r=new n(e);const getPos=(t,i,r)=>{const cb=(e,i)=>{if(e){s.close(t,(t=>r(e)))}else{r(null,i)}};let n=0;if(i===0){return cb(null,0)}let o=0;const a=Buffer.alloc(512);const onread=(r,l)=>{if(r){return cb(r)}o+=l;if(o<512&&l){return s.read(t,a,o,a.length-o,n+o,onread)}if(n===0&&a[0]===31&&a[1]===139){return cb(new Error("cannot append to compressed archives"))}if(o<512){return cb(null,n)}const c=new h(a);if(!c.cksumValid){return cb(null,n)}const u=512*Math.ceil(c.size/512);if(n+u+512>i){return cb(null,n)}n+=u+512;if(n>=i){return cb(null,n)}if(e.mtimeCache){e.mtimeCache.set(c.path,c.mtime)}o=0;s.read(t,a,0,512,n,onread)};s.read(t,a,0,512,n,onread)};const a=new Promise(((i,n)=>{r.on("error",n);let a="r+";const onopen=(l,h)=>{if(l&&l.code==="ENOENT"&&a==="r+"){a="w+";return s.open(e.file,a,onopen)}if(l){return n(l)}s.fstat(h,((a,l)=>{if(a){return s.close(h,(()=>n(a)))}getPos(h,l.size,((s,a)=>{if(s){return n(s)}const l=new o.WriteStream(e.file,{fd:h,start:a});r.pipe(l);l.on("error",n);l.on("close",i);addFilesAsync(r,t)}))}))};s.open(e.file,a,onopen)}));return i?a.then(i,i):a};const addFilesSync=(e,t)=>{t.forEach((t=>{if(t.charAt(0)==="@"){a({file:l.resolve(e.cwd,t.slice(1)),sync:true,noResume:true,onentry:t=>e.add(t)})}else{e.add(t)}}));e.end()};const addFilesAsync=(e,t)=>{while(t.length){const i=t.shift();if(i.charAt(0)==="@"){return a({file:l.resolve(e.cwd,i.slice(1)),noResume:true,onentry:t=>e.add(t)}).then((i=>addFilesAsync(e,t)))}else{e.add(i)}}e.end()}},7111:(e,t,i)=>{const{isAbsolute:r,parse:n}=i(1017).win32;e.exports=e=>{let t="";let i=n(e);while(r(e)||i.root){const r=e.charAt(0)==="/"&&e.slice(0,4)!=="//?/"?"/":i.root;e=e.slice(r.length);t+=r;i=n(e)}return[t,e]}},8886:e=>{e.exports=e=>{let t=e.length-1;let i=-1;while(t>-1&&e.charAt(t)==="/"){i=t;t--}return i===-1?e:e.slice(0,i)}},4173:(e,t)=>{"use strict";t.name=new Map([["0","File"],["","OldFile"],["1","Link"],["2","SymbolicLink"],["3","CharacterDevice"],["4","BlockDevice"],["5","Directory"],["6","FIFO"],["7","ContiguousFile"],["g","GlobalExtendedHeader"],["x","ExtendedHeader"],["A","SolarisACL"],["D","GNUDumpDir"],["I","Inode"],["K","NextFileHasLongLinkpath"],["L","NextFileHasLongPath"],["M","ContinuationFile"],["N","OldGnuLongPath"],["S","SparseFile"],["V","TapeVolumeHeader"],["X","OldExtendedHeader"]]);t.code=new Map(Array.from(t.name).map((e=>[e[1],e[0]])))},7628:(e,t,i)=>{"use strict";const r=i(9491);const n=i(8917);const s=i(7147);const o=i(7714);const a=i(1017);const l=i(9624);const h=i(4808);const c=i(9587);const u=i(7111);const d=i(6843);const p=i(8886);const m=i(7118);const _=Symbol("onEntry");const y=Symbol("checkFs");const v=Symbol("checkFs2");const b=Symbol("pruneCache");const g=Symbol("isReusable");const w=Symbol("makeFs");const S=Symbol("file");const E=Symbol("directory");const x=Symbol("link");const R=Symbol("symlink");const O=Symbol("hardlink");const k=Symbol("unsupported");const L=Symbol("checkPath");const N=Symbol("mkdir");const A=Symbol("onError");const T=Symbol("pending");const I=Symbol("pend");const F=Symbol("unpend");const B=Symbol("ended");const C=Symbol("maybeClose");const D=Symbol("skip");const M=Symbol("doChown");const P=Symbol("uid");const z=Symbol("gid");const U=Symbol("checkedCwd");const W=i(6113);const j=i(1172);const Y=process.env.TESTING_TAR_FAKE_PLATFORM||process.platform;const G=Y==="win32";const H=1024;const unlinkFile=(e,t)=>{if(!G){return s.unlink(e,t)}const i=e+".DELETE."+W.randomBytes(16).toString("hex");s.rename(e,i,(e=>{if(e){return t(e)}s.unlink(i,t)}))};const unlinkFileSync=e=>{if(!G){return s.unlinkSync(e)}const t=e+".DELETE."+W.randomBytes(16).toString("hex");s.renameSync(e,t);s.unlinkSync(t)};const uint32=(e,t,i)=>e===e>>>0?e:t===t>>>0?t:i;const cacheKeyNormalize=e=>p(d(m(e))).toLowerCase();const pruneCache=(e,t)=>{t=cacheKeyNormalize(t);for(const i of e.keys()){const r=cacheKeyNormalize(i);if(r===t||r.indexOf(t+"/")===0){e.delete(i)}}};const dropCache=e=>{for(const t of e.keys()){e.delete(t)}};class Unpack extends n{constructor(e){if(!e){e={}}e.ondone=e=>{this[B]=true;this[C]()};super(e);this[U]=false;this.reservations=c();this.transform=typeof e.transform==="function"?e.transform:null;this.writable=true;this.readable=false;this[T]=0;this[B]=false;this.dirCache=e.dirCache||new Map;if(typeof e.uid==="number"||typeof e.gid==="number"){if(typeof e.uid!=="number"||typeof e.gid!=="number"){throw new TypeError("cannot set owner without number uid and gid")}if(e.preserveOwner){throw new TypeError("cannot preserve owner in archive and also set owner explicitly")}this.uid=e.uid;this.gid=e.gid;this.setOwner=true}else{this.uid=null;this.gid=null;this.setOwner=false}if(e.preserveOwner===undefined&&typeof e.uid!=="number"){this.preserveOwner=process.getuid&&process.getuid()===0}else{this.preserveOwner=!!e.preserveOwner}this.processUid=(this.preserveOwner||this.setOwner)&&process.getuid?process.getuid():null;this.processGid=(this.preserveOwner||this.setOwner)&&process.getgid?process.getgid():null;this.maxDepth=typeof e.maxDepth==="number"?e.maxDepth:H;this.forceChown=e.forceChown===true;this.win32=!!e.win32||G;this.newer=!!e.newer;this.keep=!!e.keep;this.noMtime=!!e.noMtime;this.preservePaths=!!e.preservePaths;this.unlink=!!e.unlink;this.cwd=d(a.resolve(e.cwd||process.cwd()));this.strip=+e.strip||0;this.processUmask=e.noChmod?0:process.umask();this.umask=typeof e.umask==="number"?e.umask:this.processUmask;this.dmode=e.dmode||511&~this.umask;this.fmode=e.fmode||438&~this.umask;this.on("entry",(e=>this[_](e)))}warn(e,t,i={}){if(e==="TAR_BAD_ARCHIVE"||e==="TAR_ABORT"){i.recoverable=false}return super.warn(e,t,i)}[C](){if(this[B]&&this[T]===0){this.emit("prefinish");this.emit("finish");this.emit("end")}}[L](e){const t=d(e.path);const i=t.split("/");if(this.strip){if(i.length<this.strip){return false}if(e.type==="Link"){const t=d(e.linkpath).split("/");if(t.length>=this.strip){e.linkpath=t.slice(this.strip).join("/")}else{return false}}i.splice(0,this.strip);e.path=i.join("/")}if(isFinite(this.maxDepth)&&i.length>this.maxDepth){this.warn("TAR_ENTRY_ERROR","path excessively deep",{entry:e,path:t,depth:i.length,maxDepth:this.maxDepth});return false}if(!this.preservePaths){if(i.includes("..")||G&&/^[a-z]:\.\.$/i.test(i[0])){this.warn("TAR_ENTRY_ERROR",`path contains '..'`,{entry:e,path:t});return false}const[r,n]=u(t);if(r){e.path=n;this.warn("TAR_ENTRY_INFO",`stripping ${r} from absolute path`,{entry:e,path:t})}}if(a.isAbsolute(e.path)){e.absolute=d(a.resolve(e.path))}else{e.absolute=d(a.resolve(this.cwd,e.path))}if(!this.preservePaths&&e.absolute.indexOf(this.cwd+"/")!==0&&e.absolute!==this.cwd){this.warn("TAR_ENTRY_ERROR","path escaped extraction target",{entry:e,path:d(e.path),resolvedPath:e.absolute,cwd:this.cwd});return false}if(e.absolute===this.cwd&&e.type!=="Directory"&&e.type!=="GNUDumpDir"){return false}if(this.win32){const{root:t}=a.win32.parse(e.absolute);e.absolute=t+h.encode(e.absolute.slice(t.length));const{root:i}=a.win32.parse(e.path);e.path=i+h.encode(e.path.slice(i.length))}return true}[_](e){if(!this[L](e)){return e.resume()}r.equal(typeof e.absolute,"string");switch(e.type){case"Directory":case"GNUDumpDir":if(e.mode){e.mode=e.mode|448}case"File":case"OldFile":case"ContiguousFile":case"Link":case"SymbolicLink":return this[y](e);case"CharacterDevice":case"BlockDevice":case"FIFO":default:return this[k](e)}}[A](e,t){if(e.name==="CwdError"){this.emit("error",e)}else{this.warn("TAR_ENTRY_ERROR",e,{entry:t});this[F]();t.resume()}}[N](e,t,i){l(d(e),{uid:this.uid,gid:this.gid,processUid:this.processUid,processGid:this.processGid,umask:this.processUmask,preserve:this.preservePaths,unlink:this.unlink,cache:this.dirCache,cwd:this.cwd,mode:t,noChmod:this.noChmod},i)}[M](e){return this.forceChown||this.preserveOwner&&(typeof e.uid==="number"&&e.uid!==this.processUid||typeof e.gid==="number"&&e.gid!==this.processGid)||(typeof this.uid==="number"&&this.uid!==this.processUid||typeof this.gid==="number"&&this.gid!==this.processGid)}[P](e){return uint32(this.uid,e.uid,this.processUid)}[z](e){return uint32(this.gid,e.gid,this.processGid)}[S](e,t){const i=e.mode&4095||this.fmode;const r=new o.WriteStream(e.absolute,{flags:j(e.size),mode:i,autoClose:false});r.on("error",(i=>{if(r.fd){s.close(r.fd,(()=>{}))}r.write=()=>true;this[A](i,e);t()}));let n=1;const done=i=>{if(i){if(r.fd){s.close(r.fd,(()=>{}))}this[A](i,e);t();return}if(--n===0){s.close(r.fd,(i=>{if(i){this[A](i,e)}else{this[F]()}t()}))}};r.on("finish",(t=>{const i=e.absolute;const o=r.fd;if(e.mtime&&!this.noMtime){n++;const t=e.atime||new Date;const r=e.mtime;s.futimes(o,t,r,(e=>e?s.utimes(i,t,r,(t=>done(t&&e))):done()))}if(this[M](e)){n++;const t=this[P](e);const r=this[z](e);s.fchown(o,t,r,(e=>e?s.chown(i,t,r,(t=>done(t&&e))):done()))}done()}));const a=this.transform?this.transform(e)||e:e;if(a!==e){a.on("error",(i=>{this[A](i,e);t()}));e.pipe(a)}a.pipe(r)}[E](e,t){const i=e.mode&4095||this.dmode;this[N](e.absolute,i,(i=>{if(i){this[A](i,e);t();return}let r=1;const done=i=>{if(--r===0){t();this[F]();e.resume()}};if(e.mtime&&!this.noMtime){r++;s.utimes(e.absolute,e.atime||new Date,e.mtime,done)}if(this[M](e)){r++;s.chown(e.absolute,this[P](e),this[z](e),done)}done()}))}[k](e){e.unsupported=true;this.warn("TAR_ENTRY_UNSUPPORTED",`unsupported entry type: ${e.type}`,{entry:e});e.resume()}[R](e,t){this[x](e,e.linkpath,"symlink",t)}[O](e,t){const i=d(a.resolve(this.cwd,e.linkpath));this[x](e,i,"link",t)}[I](){this[T]++}[F](){this[T]--;this[C]()}[D](e){this[F]();e.resume()}[g](e,t){return e.type==="File"&&!this.unlink&&t.isFile()&&t.nlink<=1&&!G}[y](e){this[I]();const t=[e.path];if(e.linkpath){t.push(e.linkpath)}this.reservations.reserve(t,(t=>this[v](e,t)))}[b](e){if(e.type==="SymbolicLink"){dropCache(this.dirCache)}else if(e.type!=="Directory"){pruneCache(this.dirCache,e.absolute)}}[v](e,t){this[b](e);const done=i=>{this[b](e);t(i)};const checkCwd=()=>{this[N](this.cwd,this.dmode,(t=>{if(t){this[A](t,e);done();return}this[U]=true;start()}))};const start=()=>{if(e.absolute!==this.cwd){const t=d(a.dirname(e.absolute));if(t!==this.cwd){return this[N](t,this.dmode,(t=>{if(t){this[A](t,e);done();return}afterMakeParent()}))}}afterMakeParent()};const afterMakeParent=()=>{s.lstat(e.absolute,((t,i)=>{if(i&&(this.keep||this.newer&&i.mtime>e.mtime)){this[D](e);done();return}if(t||this[g](e,i)){return this[w](null,e,done)}if(i.isDirectory()){if(e.type==="Directory"){const t=!this.noChmod&&e.mode&&(i.mode&4095)!==e.mode;const afterChmod=t=>this[w](t,e,done);if(!t){return afterChmod()}return s.chmod(e.absolute,e.mode,afterChmod)}if(e.absolute!==this.cwd){return s.rmdir(e.absolute,(t=>this[w](t,e,done)))}}if(e.absolute===this.cwd){return this[w](null,e,done)}unlinkFile(e.absolute,(t=>this[w](t,e,done)))}))};if(this[U]){start()}else{checkCwd()}}[w](e,t,i){if(e){this[A](e,t);i();return}switch(t.type){case"File":case"OldFile":case"ContiguousFile":return this[S](t,i);case"Link":return this[O](t,i);case"SymbolicLink":return this[R](t,i);case"Directory":case"GNUDumpDir":return this[E](t,i)}}[x](e,t,i,r){s[i](t,e.absolute,(t=>{if(t){this[A](t,e)}else{this[F]();e.resume()}r()}))}}const callSync=e=>{try{return[null,e()]}catch(e){return[e,null]}};class UnpackSync extends Unpack{[w](e,t){return super[w](e,t,(()=>{}))}[y](e){this[b](e);if(!this[U]){const t=this[N](this.cwd,this.dmode);if(t){return this[A](t,e)}this[U]=true}if(e.absolute!==this.cwd){const t=d(a.dirname(e.absolute));if(t!==this.cwd){const i=this[N](t,this.dmode);if(i){return this[A](i,e)}}}const[t,i]=callSync((()=>s.lstatSync(e.absolute)));if(i&&(this.keep||this.newer&&i.mtime>e.mtime)){return this[D](e)}if(t||this[g](e,i)){return this[w](null,e)}if(i.isDirectory()){if(e.type==="Directory"){const t=!this.noChmod&&e.mode&&(i.mode&4095)!==e.mode;const[r]=t?callSync((()=>{s.chmodSync(e.absolute,e.mode)})):[];return this[w](r,e)}const[t]=callSync((()=>s.rmdirSync(e.absolute)));this[w](t,e)}const[r]=e.absolute===this.cwd?[]:callSync((()=>unlinkFileSync(e.absolute)));this[w](r,e)}[S](e,t){const i=e.mode&4095||this.fmode;const oner=i=>{let n;try{s.closeSync(r)}catch(e){n=e}if(i||n){this[A](i||n,e)}t()};let r;try{r=s.openSync(e.absolute,j(e.size),i)}catch(e){return oner(e)}const n=this.transform?this.transform(e)||e:e;if(n!==e){n.on("error",(t=>this[A](t,e)));e.pipe(n)}n.on("data",(e=>{try{s.writeSync(r,e,0,e.length)}catch(e){oner(e)}}));n.on("end",(t=>{let i=null;if(e.mtime&&!this.noMtime){const t=e.atime||new Date;const n=e.mtime;try{s.futimesSync(r,t,n)}catch(r){try{s.utimesSync(e.absolute,t,n)}catch(e){i=r}}}if(this[M](e)){const t=this[P](e);const n=this[z](e);try{s.fchownSync(r,t,n)}catch(r){try{s.chownSync(e.absolute,t,n)}catch(e){i=i||r}}}oner(i)}))}[E](e,t){const i=e.mode&4095||this.dmode;const r=this[N](e.absolute,i);if(r){this[A](r,e);t();return}if(e.mtime&&!this.noMtime){try{s.utimesSync(e.absolute,e.atime||new Date,e.mtime)}catch(r){}}if(this[M](e)){try{s.chownSync(e.absolute,this[P](e),this[z](e))}catch(r){}}t();e.resume()}[N](e,t){try{return l.sync(d(e),{uid:this.uid,gid:this.gid,processUid:this.processUid,processGid:this.processGid,umask:this.processUmask,preserve:this.preservePaths,unlink:this.unlink,cache:this.dirCache,cwd:this.cwd,mode:t})}catch(e){return e}}[x](e,t,i,r){try{s[i+"Sync"](t,e.absolute);r();e.resume()}catch(t){return this[A](t,e)}}}Unpack.Sync=UnpackSync;e.exports=Unpack},4404:(e,t,i)=>{"use strict";const r=i(5274);const n=i(5923);e.exports=(e,t,i)=>{const s=r(e);if(!s.file){throw new TypeError("file is required")}if(s.gzip||s.brotli||s.file.endsWith(".br")||s.file.endsWith(".tbr")){throw new TypeError("cannot append to compressed archives")}if(!t||!Array.isArray(t)||!t.length){throw new TypeError("no files or directories specified")}t=Array.from(t);mtimeFilter(s);return n(s,t,i)};const mtimeFilter=e=>{const t=e.filter;if(!e.mtimeCache){e.mtimeCache=new Map}e.filter=t?(i,r)=>t(i,r)&&!(e.mtimeCache.get(i)>r.mtime):(t,i)=>!(e.mtimeCache.get(t)>i.mtime)}},5899:e=>{"use strict";e.exports=e=>class extends e{warn(e,t,i={}){if(this.file){i.file=this.file}if(this.cwd){i.cwd=this.cwd}i.code=t instanceof Error&&t.code||e;i.tarCode=e;if(!this.strict&&i.recoverable!==false){if(t instanceof Error){i=Object.assign(t,i);t=t.message}this.emit("warn",i.tarCode,t,i)}else if(t instanceof Error){this.emit("error",Object.assign(t,i))}else{this.emit("error",Object.assign(new Error(`${e}: ${t}`),i))}}}},4808:e=>{"use strict";const t=["|","<",">","?",":"];const i=t.map((e=>String.fromCharCode(61440+e.charCodeAt(0))));const r=new Map(t.map(((e,t)=>[e,i[t]])));const n=new Map(i.map(((e,i)=>[e,t[i]])));e.exports={encode:e=>t.reduce(((e,t)=>e.split(t).join(r.get(t))),e),decode:e=>i.reduce(((e,t)=>e.split(t).join(n.get(t))),e)}},5450:(e,t,i)=>{"use strict";const{Minipass:r}=i(6684);const n=i(7996);const s=i(6043);const o=i(7147);const a=i(1017);const l=i(6843);const h=i(8886);const prefixPath=(e,t)=>{if(!t){return l(e)}e=l(e).replace(/^\.(\/|$)/,"");return h(t)+"/"+e};const c=16*1024*1024;const u=Symbol("process");const d=Symbol("file");const p=Symbol("directory");const m=Symbol("symlink");const _=Symbol("hardlink");const y=Symbol("header");const v=Symbol("read");const b=Symbol("lstat");const g=Symbol("onlstat");const w=Symbol("onread");const S=Symbol("onreadlink");const E=Symbol("openfile");const x=Symbol("onopenfile");const R=Symbol("close");const O=Symbol("mode");const k=Symbol("awaitDrain");const L=Symbol("ondrain");const N=Symbol("prefix");const A=Symbol("hadError");const T=i(5899);const I=i(4808);const F=i(7111);const B=i(8371);const C=T(class WriteEntry extends r{constructor(e,t){t=t||{};super(t);if(typeof e!=="string"){throw new TypeError("path is required")}this.path=l(e);this.portable=!!t.portable;this.myuid=process.getuid&&process.getuid()||0;this.myuser=process.env.USER||"";this.maxReadSize=t.maxReadSize||c;this.linkCache=t.linkCache||new Map;this.statCache=t.statCache||new Map;this.preservePaths=!!t.preservePaths;this.cwd=l(t.cwd||process.cwd());this.strict=!!t.strict;this.noPax=!!t.noPax;this.noMtime=!!t.noMtime;this.mtime=t.mtime||null;this.prefix=t.prefix?l(t.prefix):null;this.fd=null;this.blockLen=null;this.blockRemain=null;this.buf=null;this.offset=null;this.length=null;this.pos=null;this.remain=null;if(typeof t.onwarn==="function"){this.on("warn",t.onwarn)}let i=false;if(!this.preservePaths){const[e,t]=F(this.path);if(e){this.path=t;i=e}}this.win32=!!t.win32||process.platform==="win32";if(this.win32){this.path=I.decode(this.path.replace(/\\/g,"/"));e=e.replace(/\\/g,"/")}this.absolute=l(t.absolute||a.resolve(this.cwd,e));if(this.path===""){this.path="./"}if(i){this.warn("TAR_ENTRY_INFO",`stripping ${i} from absolute path`,{entry:this,path:i+this.path})}if(this.statCache.has(this.absolute)){this[g](this.statCache.get(this.absolute))}else{this[b]()}}emit(e,...t){if(e==="error"){this[A]=true}return super.emit(e,...t)}[b](){o.lstat(this.absolute,((e,t)=>{if(e){return this.emit("error",e)}this[g](t)}))}[g](e){this.statCache.set(this.absolute,e);this.stat=e;if(!e.isFile()){e.size=0}this.type=getType(e);this.emit("stat",e);this[u]()}[u](){switch(this.type){case"File":return this[d]();case"Directory":return this[p]();case"SymbolicLink":return this[m]();default:return this.end()}}[O](e){return B(e,this.type==="Directory",this.portable)}[N](e){return prefixPath(e,this.prefix)}[y](){if(this.type==="Directory"&&this.portable){this.noMtime=true}this.header=new s({path:this[N](this.path),linkpath:this.type==="Link"?this[N](this.linkpath):this.linkpath,mode:this[O](this.stat.mode),uid:this.portable?null:this.stat.uid,gid:this.portable?null:this.stat.gid,size:this.stat.size,mtime:this.noMtime?null:this.mtime||this.stat.mtime,type:this.type,uname:this.portable?null:this.stat.uid===this.myuid?this.myuser:"",atime:this.portable?null:this.stat.atime,ctime:this.portable?null:this.stat.ctime});if(this.header.encode()&&!this.noPax){super.write(new n({atime:this.portable?null:this.header.atime,ctime:this.portable?null:this.header.ctime,gid:this.portable?null:this.header.gid,mtime:this.noMtime?null:this.mtime||this.header.mtime,path:this[N](this.path),linkpath:this.type==="Link"?this[N](this.linkpath):this.linkpath,size:this.header.size,uid:this.portable?null:this.header.uid,uname:this.portable?null:this.header.uname,dev:this.portable?null:this.stat.dev,ino:this.portable?null:this.stat.ino,nlink:this.portable?null:this.stat.nlink}).encode())}super.write(this.header.block)}[p](){if(this.path.slice(-1)!=="/"){this.path+="/"}this.stat.size=0;this[y]();this.end()}[m](){o.readlink(this.absolute,((e,t)=>{if(e){return this.emit("error",e)}this[S](t)}))}[S](e){this.linkpath=l(e);this[y]();this.end()}[_](e){this.type="Link";this.linkpath=l(a.relative(this.cwd,e));this.stat.size=0;this[y]();this.end()}[d](){if(this.stat.nlink>1){const e=this.stat.dev+":"+this.stat.ino;if(this.linkCache.has(e)){const t=this.linkCache.get(e);if(t.indexOf(this.cwd)===0){return this[_](t)}}this.linkCache.set(e,this.absolute)}this[y]();if(this.stat.size===0){return this.end()}this[E]()}[E](){o.open(this.absolute,"r",((e,t)=>{if(e){return this.emit("error",e)}this[x](t)}))}[x](e){this.fd=e;if(this[A]){return this[R]()}this.blockLen=512*Math.ceil(this.stat.size/512);this.blockRemain=this.blockLen;const t=Math.min(this.blockLen,this.maxReadSize);this.buf=Buffer.allocUnsafe(t);this.offset=0;this.pos=0;this.remain=this.stat.size;this.length=this.buf.length;this[v]()}[v](){const{fd:e,buf:t,offset:i,length:r,pos:n}=this;o.read(e,t,i,r,n,((e,t)=>{if(e){return this[R]((()=>this.emit("error",e)))}this[w](t)}))}[R](e){o.close(this.fd,e)}[w](e){if(e<=0&&this.remain>0){const e=new Error("encountered unexpected EOF");e.path=this.absolute;e.syscall="read";e.code="EOF";return this[R]((()=>this.emit("error",e)))}if(e>this.remain){const e=new Error("did not encounter expected EOF");e.path=this.absolute;e.syscall="read";e.code="EOF";return this[R]((()=>this.emit("error",e)))}if(e===this.remain){for(let t=e;t<this.length&&e<this.blockRemain;t++){this.buf[t+this.offset]=0;e++;this.remain++}}const t=this.offset===0&&e===this.buf.length?this.buf:this.buf.slice(this.offset,this.offset+e);const i=this.write(t);if(!i){this[k]((()=>this[L]()))}else{this[L]()}}[k](e){this.once("drain",e)}write(e){if(this.blockRemain<e.length){const e=new Error("writing more data than expected");e.path=this.absolute;return this.emit("error",e)}this.remain-=e.length;this.blockRemain-=e.length;this.pos+=e.length;this.offset+=e.length;return super.write(e)}[L](){if(!this.remain){if(this.blockRemain){super.write(Buffer.alloc(this.blockRemain))}return this[R]((e=>e?this.emit("error",e):this.end()))}if(this.offset>=this.length){this.buf=Buffer.allocUnsafe(Math.min(this.blockRemain,this.buf.length));this.offset=0}this.length=this.buf.length-this.offset;this[v]()}});class WriteEntrySync extends C{[b](){this[g](o.lstatSync(this.absolute))}[m](){this[S](o.readlinkSync(this.absolute))}[E](){this[x](o.openSync(this.absolute,"r"))}[v](){let e=true;try{const{fd:t,buf:i,offset:r,length:n,pos:s}=this;const a=o.readSync(t,i,r,n,s);this[w](a);e=false}finally{if(e){try{this[R]((()=>{}))}catch(e){}}}}[k](e){e()}[R](e){o.closeSync(this.fd);e()}}const D=T(class WriteEntryTar extends r{constructor(e,t){t=t||{};super(t);this.preservePaths=!!t.preservePaths;this.portable=!!t.portable;this.strict=!!t.strict;this.noPax=!!t.noPax;this.noMtime=!!t.noMtime;this.readEntry=e;this.type=e.type;if(this.type==="Directory"&&this.portable){this.noMtime=true}this.prefix=t.prefix||null;this.path=l(e.path);this.mode=this[O](e.mode);this.uid=this.portable?null:e.uid;this.gid=this.portable?null:e.gid;this.uname=this.portable?null:e.uname;this.gname=this.portable?null:e.gname;this.size=e.size;this.mtime=this.noMtime?null:t.mtime||e.mtime;this.atime=this.portable?null:e.atime;this.ctime=this.portable?null:e.ctime;this.linkpath=l(e.linkpath);if(typeof t.onwarn==="function"){this.on("warn",t.onwarn)}let i=false;if(!this.preservePaths){const[e,t]=F(this.path);if(e){this.path=t;i=e}}this.remain=e.size;this.blockRemain=e.startBlockSize;this.header=new s({path:this[N](this.path),linkpath:this.type==="Link"?this[N](this.linkpath):this.linkpath,mode:this.mode,uid:this.portable?null:this.uid,gid:this.portable?null:this.gid,size:this.size,mtime:this.noMtime?null:this.mtime,type:this.type,uname:this.portable?null:this.uname,atime:this.portable?null:this.atime,ctime:this.portable?null:this.ctime});if(i){this.warn("TAR_ENTRY_INFO",`stripping ${i} from absolute path`,{entry:this,path:i+this.path})}if(this.header.encode()&&!this.noPax){super.write(new n({atime:this.portable?null:this.atime,ctime:this.portable?null:this.ctime,gid:this.portable?null:this.gid,mtime:this.noMtime?null:this.mtime,path:this[N](this.path),linkpath:this.type==="Link"?this[N](this.linkpath):this.linkpath,size:this.size,uid:this.portable?null:this.uid,uname:this.portable?null:this.uname,dev:this.portable?null:this.readEntry.dev,ino:this.portable?null:this.readEntry.ino,nlink:this.portable?null:this.readEntry.nlink}).encode())}super.write(this.header.block);e.pipe(this)}[N](e){return prefixPath(e,this.prefix)}[O](e){return B(e,this.type==="Directory",this.portable)}write(e){const t=e.length;if(t>this.blockRemain){throw new Error("writing more to entry than is appropriate")}this.blockRemain-=t;return super.write(e)}end(){if(this.blockRemain){super.write(Buffer.alloc(this.blockRemain))}return super.end()}});C.Sync=WriteEntrySync;C.Tar=D;const getType=e=>e.isFile()?"File":e.isDirectory()?"Directory":e.isSymbolicLink()?"SymbolicLink":"Unsupported";e.exports=C},6684:(e,t,i)=>{"use strict";const r=typeof process==="object"&&process?process:{stdout:null,stderr:null};const n=i(2361);const s=i(2781);const o=i(1576);const a=o.StringDecoder;const l=Symbol("EOF");const h=Symbol("maybeEmitEnd");const c=Symbol("emittedEnd");const u=Symbol("emittingEnd");const d=Symbol("emittedError");const p=Symbol("closed");const m=Symbol("read");const _=Symbol("flush");const y=Symbol("flushChunk");const v=Symbol("encoding");const b=Symbol("decoder");const g=Symbol("flowing");const w=Symbol("paused");const S=Symbol("resume");const E=Symbol("buffer");const x=Symbol("pipes");const R=Symbol("bufferLength");const O=Symbol("bufferPush");const k=Symbol("bufferShift");const L=Symbol("objectMode");const N=Symbol("destroyed");const A=Symbol("error");const T=Symbol("emitData");const I=Symbol("emitEnd");const F=Symbol("emitEnd2");const B=Symbol("async");const C=Symbol("abort");const D=Symbol("aborted");const M=Symbol("signal");const defer=e=>Promise.resolve().then(e);const P=global._MP_NO_ITERATOR_SYMBOLS_!=="1";const z=P&&Symbol.asyncIterator||Symbol("asyncIterator not implemented");const U=P&&Symbol.iterator||Symbol("iterator not implemented");const isEndish=e=>e==="end"||e==="finish"||e==="prefinish";const isArrayBuffer=e=>e instanceof ArrayBuffer||typeof e==="object"&&e.constructor&&e.constructor.name==="ArrayBuffer"&&e.byteLength>=0;const isArrayBufferView=e=>!Buffer.isBuffer(e)&&ArrayBuffer.isView(e);class Pipe{constructor(e,t,i){this.src=e;this.dest=t;this.opts=i;this.ondrain=()=>e[S]();t.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(){}end(){this.unpipe();if(this.opts.end)this.dest.end()}}class PipeProxyErrors extends Pipe{unpipe(){this.src.removeListener("error",this.proxyErrors);super.unpipe()}constructor(e,t,i){super(e,t,i);this.proxyErrors=e=>t.emit("error",e);e.on("error",this.proxyErrors)}}class Minipass extends s{constructor(e){super();this[g]=false;this[w]=false;this[x]=[];this[E]=[];this[L]=e&&e.objectMode||false;if(this[L])this[v]=null;else this[v]=e&&e.encoding||null;if(this[v]==="buffer")this[v]=null;this[B]=e&&!!e.async||false;this[b]=this[v]?new a(this[v]):null;this[l]=false;this[c]=false;this[u]=false;this[p]=false;this[d]=null;this.writable=true;this.readable=true;this[R]=0;this[N]=false;if(e&&e.debugExposeBuffer===true){Object.defineProperty(this,"buffer",{get:()=>this[E]})}if(e&&e.debugExposePipes===true){Object.defineProperty(this,"pipes",{get:()=>this[x]})}this[M]=e&&e.signal;this[D]=false;if(this[M]){this[M].addEventListener("abort",(()=>this[C]()));if(this[M].aborted){this[C]()}}}get bufferLength(){return this[R]}get encoding(){return this[v]}set encoding(e){if(this[L])throw new Error("cannot set encoding in objectMode");if(this[v]&&e!==this[v]&&(this[b]&&this[b].lastNeed||this[R]))throw new Error("cannot change encoding");if(this[v]!==e){this[b]=e?new a(e):null;if(this[E].length)this[E]=this[E].map((e=>this[b].write(e)))}this[v]=e}setEncoding(e){this.encoding=e}get objectMode(){return this[L]}set objectMode(e){this[L]=this[L]||!!e}get["async"](){return this[B]}set["async"](e){this[B]=this[B]||!!e}[C](){this[D]=true;this.emit("abort",this[M].reason);this.destroy(this[M].reason)}get aborted(){return this[D]}set aborted(e){}write(e,t,i){if(this[D])return false;if(this[l])throw new Error("write after end");if(this[N]){this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"}));return true}if(typeof t==="function")i=t,t="utf8";if(!t)t="utf8";const r=this[B]?defer:e=>e();if(!this[L]&&!Buffer.isBuffer(e)){if(isArrayBufferView(e))e=Buffer.from(e.buffer,e.byteOffset,e.byteLength);else if(isArrayBuffer(e))e=Buffer.from(e);else if(typeof e!=="string")this.objectMode=true}if(this[L]){if(this.flowing&&this[R]!==0)this[_](true);if(this.flowing)this.emit("data",e);else this[O](e);if(this[R]!==0)this.emit("readable");if(i)r(i);return this.flowing}if(!e.length){if(this[R]!==0)this.emit("readable");if(i)r(i);return this.flowing}if(typeof e==="string"&&!(t===this[v]&&!this[b].lastNeed)){e=Buffer.from(e,t)}if(Buffer.isBuffer(e)&&this[v])e=this[b].write(e);if(this.flowing&&this[R]!==0)this[_](true);if(this.flowing)this.emit("data",e);else this[O](e);if(this[R]!==0)this.emit("readable");if(i)r(i);return this.flowing}read(e){if(this[N])return null;if(this[R]===0||e===0||e>this[R]){this[h]();return null}if(this[L])e=null;if(this[E].length>1&&!this[L]){if(this.encoding)this[E]=[this[E].join("")];else this[E]=[Buffer.concat(this[E],this[R])]}const t=this[m](e||null,this[E][0]);this[h]();return t}[m](e,t){if(e===t.length||e===null)this[k]();else{this[E][0]=t.slice(e);t=t.slice(0,e);this[R]-=e}this.emit("data",t);if(!this[E].length&&!this[l])this.emit("drain");return t}end(e,t,i){if(typeof e==="function")i=e,e=null;if(typeof t==="function")i=t,t="utf8";if(e)this.write(e,t);if(i)this.once("end",i);this[l]=true;this.writable=false;if(this.flowing||!this[w])this[h]();return this}[S](){if(this[N])return;this[w]=false;this[g]=true;this.emit("resume");if(this[E].length)this[_]();else if(this[l])this[h]();else this.emit("drain")}resume(){return this[S]()}pause(){this[g]=false;this[w]=true}get destroyed(){return this[N]}get flowing(){return this[g]}get paused(){return this[w]}[O](e){if(this[L])this[R]+=1;else this[R]+=e.length;this[E].push(e)}[k](){if(this[L])this[R]-=1;else this[R]-=this[E][0].length;return this[E].shift()}[_](e){do{}while(this[y](this[k]())&&this[E].length);if(!e&&!this[E].length&&!this[l])this.emit("drain")}[y](e){this.emit("data",e);return this.flowing}pipe(e,t){if(this[N])return;const i=this[c];t=t||{};if(e===r.stdout||e===r.stderr)t.end=false;else t.end=t.end!==false;t.proxyErrors=!!t.proxyErrors;if(i){if(t.end)e.end()}else{this[x].push(!t.proxyErrors?new Pipe(this,e,t):new PipeProxyErrors(this,e,t));if(this[B])defer((()=>this[S]()));else this[S]()}return e}unpipe(e){const t=this[x].find((t=>t.dest===e));if(t){this[x].splice(this[x].indexOf(t),1);t.unpipe()}}addListener(e,t){return this.on(e,t)}on(e,t){const i=super.on(e,t);if(e==="data"&&!this[x].length&&!this.flowing)this[S]();else if(e==="readable"&&this[R]!==0)super.emit("readable");else if(isEndish(e)&&this[c]){super.emit(e);this.removeAllListeners(e)}else if(e==="error"&&this[d]){if(this[B])defer((()=>t.call(this,this[d])));else t.call(this,this[d])}return i}get emittedEnd(){return this[c]}[h](){if(!this[u]&&!this[c]&&!this[N]&&this[E].length===0&&this[l]){this[u]=true;this.emit("end");this.emit("prefinish");this.emit("finish");if(this[p])this.emit("close");this[u]=false}}emit(e,t,...i){if(e!=="error"&&e!=="close"&&e!==N&&this[N])return;else if(e==="data"){return!this[L]&&!t?false:this[B]?defer((()=>this[T](t))):this[T](t)}else if(e==="end"){return this[I]()}else if(e==="close"){this[p]=true;if(!this[c]&&!this[N])return;const e=super.emit("close");this.removeAllListeners("close");return e}else if(e==="error"){this[d]=t;super.emit(A,t);const e=!this[M]||this.listeners("error").length?super.emit("error",t):false;this[h]();return e}else if(e==="resume"){const e=super.emit("resume");this[h]();return e}else if(e==="finish"||e==="prefinish"){const t=super.emit(e);this.removeAllListeners(e);return t}const r=super.emit(e,t,...i);this[h]();return r}[T](e){for(const t of this[x]){if(t.dest.write(e)===false)this.pause()}const t=super.emit("data",e);this[h]();return t}[I](){if(this[c])return;this[c]=true;this.readable=false;if(this[B])defer((()=>this[F]()));else this[F]()}[F](){if(this[b]){const e=this[b].end();if(e){for(const t of this[x]){t.dest.write(e)}super.emit("data",e)}}for(const e of this[x]){e.end()}const e=super.emit("end");this.removeAllListeners("end");return e}collect(){const e=[];if(!this[L])e.dataLength=0;const t=this.promise();this.on("data",(t=>{e.push(t);if(!this[L])e.dataLength+=t.length}));return t.then((()=>e))}concat(){return this[L]?Promise.reject(new Error("cannot concat in objectMode")):this.collect().then((e=>this[L]?Promise.reject(new Error("cannot concat in objectMode")):this[v]?e.join(""):Buffer.concat(e,e.dataLength)))}promise(){return new Promise(((e,t)=>{this.on(N,(()=>t(new Error("stream destroyed"))));this.on("error",(e=>t(e)));this.on("end",(()=>e()))}))}[z](){let e=false;const stop=()=>{this.pause();e=true;return Promise.resolve({done:true})};const next=()=>{if(e)return stop();const t=this.read();if(t!==null)return Promise.resolve({done:false,value:t});if(this[l])return stop();let i=null;let r=null;const onerr=e=>{this.removeListener("data",ondata);this.removeListener("end",onend);this.removeListener(N,ondestroy);stop();r(e)};const ondata=e=>{this.removeListener("error",onerr);this.removeListener("end",onend);this.removeListener(N,ondestroy);this.pause();i({value:e,done:!!this[l]})};const onend=()=>{this.removeListener("error",onerr);this.removeListener("data",ondata);this.removeListener(N,ondestroy);stop();i({done:true})};const ondestroy=()=>onerr(new Error("stream destroyed"));return new Promise(((e,t)=>{r=t;i=e;this.once(N,ondestroy);this.once("error",onerr);this.once("end",onend);this.once("data",ondata)}))};return{next:next,throw:stop,return:stop,[z](){return this}}}[U](){let e=false;const stop=()=>{this.pause();this.removeListener(A,stop);this.removeListener(N,stop);this.removeListener("end",stop);e=true;return{done:true}};const next=()=>{if(e)return stop();const t=this.read();return t===null?stop():{value:t}};this.once("end",stop);this.once(A,stop);this.once(N,stop);return{next:next,throw:stop,return:stop,[U](){return this}}}destroy(e){if(this[N]){if(e)this.emit("error",e);else this.emit(N);return this}this[N]=true;this[E].length=0;this[R]=0;if(typeof this.close==="function"&&!this[p])this.close();if(e)this.emit("error",e);else this.emit(N);return this}static isStream(e){return!!e&&(e instanceof Minipass||e instanceof s||e instanceof n&&(typeof e.pipe==="function"||typeof e.write==="function"&&typeof e.end==="function"))}}t.Minipass=Minipass},4091:e=>{"use strict";e.exports=function(e){e.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next){yield e.value}}}},665:(e,t,i)=>{"use strict";e.exports=Yallist;Yallist.Node=Node;Yallist.create=Yallist;function Yallist(e){var t=this;if(!(t instanceof Yallist)){t=new Yallist}t.tail=null;t.head=null;t.length=0;if(e&&typeof e.forEach==="function"){e.forEach((function(e){t.push(e)}))}else if(arguments.length>0){for(var i=0,r=arguments.length;i<r;i++){t.push(arguments[i])}}return t}Yallist.prototype.removeNode=function(e){if(e.list!==this){throw new Error("removing node which does not belong to this list")}var t=e.next;var i=e.prev;if(t){t.prev=i}if(i){i.next=t}if(e===this.head){this.head=t}if(e===this.tail){this.tail=i}e.list.length--;e.next=null;e.prev=null;e.list=null;return t};Yallist.prototype.unshiftNode=function(e){if(e===this.head){return}if(e.list){e.list.removeNode(e)}var t=this.head;e.list=this;e.next=t;if(t){t.prev=e}this.head=e;if(!this.tail){this.tail=e}this.length++};Yallist.prototype.pushNode=function(e){if(e===this.tail){return}if(e.list){e.list.removeNode(e)}var t=this.tail;e.list=this;e.prev=t;if(t){t.next=e}this.tail=e;if(!this.head){this.head=e}this.length++};Yallist.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++){push(this,arguments[e])}return this.length};Yallist.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++){unshift(this,arguments[e])}return this.length};Yallist.prototype.pop=function(){if(!this.tail){return undefined}var e=this.tail.value;this.tail=this.tail.prev;if(this.tail){this.tail.next=null}else{this.head=null}this.length--;return e};Yallist.prototype.shift=function(){if(!this.head){return undefined}var e=this.head.value;this.head=this.head.next;if(this.head){this.head.prev=null}else{this.tail=null}this.length--;return e};Yallist.prototype.forEach=function(e,t){t=t||this;for(var i=this.head,r=0;i!==null;r++){e.call(t,i.value,r,this);i=i.next}};Yallist.prototype.forEachReverse=function(e,t){t=t||this;for(var i=this.tail,r=this.length-1;i!==null;r--){e.call(t,i.value,r,this);i=i.prev}};Yallist.prototype.get=function(e){for(var t=0,i=this.head;i!==null&&t<e;t++){i=i.next}if(t===e&&i!==null){return i.value}};Yallist.prototype.getReverse=function(e){for(var t=0,i=this.tail;i!==null&&t<e;t++){i=i.prev}if(t===e&&i!==null){return i.value}};Yallist.prototype.map=function(e,t){t=t||this;var i=new Yallist;for(var r=this.head;r!==null;){i.push(e.call(t,r.value,this));r=r.next}return i};Yallist.prototype.mapReverse=function(e,t){t=t||this;var i=new Yallist;for(var r=this.tail;r!==null;){i.push(e.call(t,r.value,this));r=r.prev}return i};Yallist.prototype.reduce=function(e,t){var i;var r=this.head;if(arguments.length>1){i=t}else if(this.head){r=this.head.next;i=this.head.value}else{throw new TypeError("Reduce of empty list with no initial value")}for(var n=0;r!==null;n++){i=e(i,r.value,n);r=r.next}return i};Yallist.prototype.reduceReverse=function(e,t){var i;var r=this.tail;if(arguments.length>1){i=t}else if(this.tail){r=this.tail.prev;i=this.tail.value}else{throw new TypeError("Reduce of empty list with no initial value")}for(var n=this.length-1;r!==null;n--){i=e(i,r.value,n);r=r.prev}return i};Yallist.prototype.toArray=function(){var e=new Array(this.length);for(var t=0,i=this.head;i!==null;t++){e[t]=i.value;i=i.next}return e};Yallist.prototype.toArrayReverse=function(){var e=new Array(this.length);for(var t=0,i=this.tail;i!==null;t++){e[t]=i.value;i=i.prev}return e};Yallist.prototype.slice=function(e,t){t=t||this.length;if(t<0){t+=this.length}e=e||0;if(e<0){e+=this.length}var i=new Yallist;if(t<e||t<0){return i}if(e<0){e=0}if(t>this.length){t=this.length}for(var r=0,n=this.head;n!==null&&r<e;r++){n=n.next}for(;n!==null&&r<t;r++,n=n.next){i.push(n.value)}return i};Yallist.prototype.sliceReverse=function(e,t){t=t||this.length;if(t<0){t+=this.length}e=e||0;if(e<0){e+=this.length}var i=new Yallist;if(t<e||t<0){return i}if(e<0){e=0}if(t>this.length){t=this.length}for(var r=this.length,n=this.tail;n!==null&&r>t;r--){n=n.prev}for(;n!==null&&r>e;r--,n=n.prev){i.push(n.value)}return i};Yallist.prototype.splice=function(e,t,...i){if(e>this.length){e=this.length-1}if(e<0){e=this.length+e}for(var r=0,n=this.head;n!==null&&r<e;r++){n=n.next}var s=[];for(var r=0;n&&r<t;r++){s.push(n.value);n=this.removeNode(n)}if(n===null){n=this.tail}if(n!==this.head&&n!==this.tail){n=n.prev}for(var r=0;r<i.length;r++){n=insert(this,n,i[r])}return s};Yallist.prototype.reverse=function(){var e=this.head;var t=this.tail;for(var i=e;i!==null;i=i.prev){var r=i.prev;i.prev=i.next;i.next=r}this.head=t;this.tail=e;return this};function insert(e,t,i){var r=t===e.head?new Node(i,null,t,e):new Node(i,t,t.next,e);if(r.next===null){e.tail=r}if(r.prev===null){e.head=r}e.length++;return r}function push(e,t){e.tail=new Node(t,e.tail,null,e);if(!e.head){e.head=e.tail}e.length++}function unshift(e,t){e.head=new Node(t,null,e.head,e);if(!e.tail){e.tail=e.head}e.length++}function Node(e,t,i,r){if(!(this instanceof Node)){return new Node(e,t,i,r)}this.list=r;this.value=e;if(t){t.next=this;this.prev=t}else{this.prev=null}if(i){i.prev=this;this.next=i}else{this.next=null}}try{i(4091)(Yallist)}catch(e){}},8781:(e,t,i)=>{var r=i(7147);var n=i(9796);var s=i(5010);var o=i(4794);var a=i(3837);var l=i(2361).EventEmitter;var h=i(2781).Transform;var c=i(2781).PassThrough;var u=i(2781).Writable;t.open=open;t.fromFd=fromFd;t.fromBuffer=fromBuffer;t.fromRandomAccessReader=fromRandomAccessReader;t.dosDateTimeToDate=dosDateTimeToDate;t.validateFileName=validateFileName;t.ZipFile=ZipFile;t.Entry=Entry;t.RandomAccessReader=RandomAccessReader;function open(e,t,i){if(typeof t==="function"){i=t;t=null}if(t==null)t={};if(t.autoClose==null)t.autoClose=true;if(t.lazyEntries==null)t.lazyEntries=false;if(t.decodeStrings==null)t.decodeStrings=true;if(t.validateEntrySizes==null)t.validateEntrySizes=true;if(t.strictFileNames==null)t.strictFileNames=false;if(i==null)i=defaultCallback;r.open(e,"r",(function(e,n){if(e)return i(e);fromFd(n,t,(function(e,t){if(e)r.close(n,defaultCallback);i(e,t)}))}))}function fromFd(e,t,i){if(typeof t==="function"){i=t;t=null}if(t==null)t={};if(t.autoClose==null)t.autoClose=false;if(t.lazyEntries==null)t.lazyEntries=false;if(t.decodeStrings==null)t.decodeStrings=true;if(t.validateEntrySizes==null)t.validateEntrySizes=true;if(t.strictFileNames==null)t.strictFileNames=false;if(i==null)i=defaultCallback;r.fstat(e,(function(r,n){if(r)return i(r);var o=s.createFromFd(e,{autoClose:true});fromRandomAccessReader(o,n.size,t,i)}))}function fromBuffer(e,t,i){if(typeof t==="function"){i=t;t=null}if(t==null)t={};t.autoClose=false;if(t.lazyEntries==null)t.lazyEntries=false;if(t.decodeStrings==null)t.decodeStrings=true;if(t.validateEntrySizes==null)t.validateEntrySizes=true;if(t.strictFileNames==null)t.strictFileNames=false;var r=s.createFromBuffer(e,{maxChunkSize:65536});fromRandomAccessReader(r,e.length,t,i)}function fromRandomAccessReader(e,t,i,r){if(typeof i==="function"){r=i;i=null}if(i==null)i={};if(i.autoClose==null)i.autoClose=true;if(i.lazyEntries==null)i.lazyEntries=false;if(i.decodeStrings==null)i.decodeStrings=true;var n=!!i.decodeStrings;if(i.validateEntrySizes==null)i.validateEntrySizes=true;if(i.strictFileNames==null)i.strictFileNames=false;if(r==null)r=defaultCallback;if(typeof t!=="number")throw new Error("expected totalSize parameter to be a number");if(t>Number.MAX_SAFE_INTEGER){throw new Error("zip file too large. only file sizes up to 2^52 are supported due to JavaScript's Number type being an IEEE 754 double.")}e.ref();var s=22;var o=65535;var a=Math.min(s+o,t);var l=p(a);var h=t-l.length;readAndAssertNoEof(e,l,0,a,h,(function(o){if(o)return r(o);for(var c=a-s;c>=0;c-=1){if(l.readUInt32LE(c)!==101010256)continue;var u=l.slice(c);var d=u.readUInt16LE(4);if(d!==0){return r(new Error("multi-disk zip files are not supported: found disk number: "+d))}var m=u.readUInt16LE(10);var _=u.readUInt32LE(16);var y=u.readUInt16LE(20);var v=u.length-s;if(y!==v){return r(new Error("invalid comment length. expected: "+v+". found: "+y))}var b=n?decodeBuffer(u,22,u.length,false):u.slice(22);if(!(m===65535||_===4294967295)){return r(null,new ZipFile(e,_,t,m,b,i.autoClose,i.lazyEntries,n,i.validateEntrySizes,i.strictFileNames))}var g=p(20);var w=h+c-g.length;readAndAssertNoEof(e,g,0,g.length,w,(function(s){if(s)return r(s);if(g.readUInt32LE(0)!==117853008){return r(new Error("invalid zip64 end of central directory locator signature"))}var o=readUInt64LE(g,8);var a=p(56);readAndAssertNoEof(e,a,0,a.length,o,(function(s){if(s)return r(s);if(a.readUInt32LE(0)!==101075792){return r(new Error("invalid zip64 end of central directory record signature"))}m=readUInt64LE(a,32);_=readUInt64LE(a,48);return r(null,new ZipFile(e,_,t,m,b,i.autoClose,i.lazyEntries,n,i.validateEntrySizes,i.strictFileNames))}))}));return}r(new Error("end of central directory record signature not found"))}))}a.inherits(ZipFile,l);function ZipFile(e,t,i,r,n,s,o,a,h,c){var u=this;l.call(u);u.reader=e;u.reader.on("error",(function(e){emitError(u,e)}));u.reader.once("close",(function(){u.emit("close")}));u.readEntryCursor=t;u.fileSize=i;u.entryCount=r;u.comment=n;u.entriesRead=0;u.autoClose=!!s;u.lazyEntries=!!o;u.decodeStrings=!!a;u.validateEntrySizes=!!h;u.strictFileNames=!!c;u.isOpen=true;u.emittedError=false;if(!u.lazyEntries)u._readEntry()}ZipFile.prototype.close=function(){if(!this.isOpen)return;this.isOpen=false;this.reader.unref()};function emitErrorAndAutoClose(e,t){if(e.autoClose)e.close();emitError(e,t)}function emitError(e,t){if(e.emittedError)return;e.emittedError=true;e.emit("error",t)}ZipFile.prototype.readEntry=function(){if(!this.lazyEntries)throw new Error("readEntry() called without lazyEntries:true");this._readEntry()};ZipFile.prototype._readEntry=function(){var e=this;if(e.entryCount===e.entriesRead){setImmediate((function(){if(e.autoClose)e.close();if(e.emittedError)return;e.emit("end")}));return}if(e.emittedError)return;var i=p(46);readAndAssertNoEof(e.reader,i,0,i.length,e.readEntryCursor,(function(r){if(r)return emitErrorAndAutoClose(e,r);if(e.emittedError)return;var n=new Entry;var s=i.readUInt32LE(0);if(s!==33639248)return emitErrorAndAutoClose(e,new Error("invalid central directory file header signature: 0x"+s.toString(16)));n.versionMadeBy=i.readUInt16LE(4);n.versionNeededToExtract=i.readUInt16LE(6);n.generalPurposeBitFlag=i.readUInt16LE(8);n.compressionMethod=i.readUInt16LE(10);n.lastModFileTime=i.readUInt16LE(12);n.lastModFileDate=i.readUInt16LE(14);n.crc32=i.readUInt32LE(16);n.compressedSize=i.readUInt32LE(20);n.uncompressedSize=i.readUInt32LE(24);n.fileNameLength=i.readUInt16LE(28);n.extraFieldLength=i.readUInt16LE(30);n.fileCommentLength=i.readUInt16LE(32);n.internalFileAttributes=i.readUInt16LE(36);n.externalFileAttributes=i.readUInt32LE(38);n.relativeOffsetOfLocalHeader=i.readUInt32LE(42);if(n.generalPurposeBitFlag&64)return emitErrorAndAutoClose(e,new Error("strong encryption is not supported"));e.readEntryCursor+=46;i=p(n.fileNameLength+n.extraFieldLength+n.fileCommentLength);readAndAssertNoEof(e.reader,i,0,i.length,e.readEntryCursor,(function(r){if(r)return emitErrorAndAutoClose(e,r);if(e.emittedError)return;var s=(n.generalPurposeBitFlag&2048)!==0;n.fileName=e.decodeStrings?decodeBuffer(i,0,n.fileNameLength,s):i.slice(0,n.fileNameLength);var a=n.fileNameLength+n.extraFieldLength;var l=i.slice(n.fileNameLength,a);n.extraFields=[];var h=0;while(h<l.length-3){var c=l.readUInt16LE(h+0);var u=l.readUInt16LE(h+2);var d=h+4;var m=d+u;if(m>l.length)return emitErrorAndAutoClose(e,new Error("extra field length exceeds extra field buffer size"));var _=p(u);l.copy(_,0,d,m);n.extraFields.push({id:c,data:_});h=m}n.fileComment=e.decodeStrings?decodeBuffer(i,a,a+n.fileCommentLength,s):i.slice(a,a+n.fileCommentLength);n.comment=n.fileComment;e.readEntryCursor+=i.length;e.entriesRead+=1;if(n.uncompressedSize===4294967295||n.compressedSize===4294967295||n.relativeOffsetOfLocalHeader===4294967295){var y=null;for(var h=0;h<n.extraFields.length;h++){var v=n.extraFields[h];if(v.id===1){y=v.data;break}}if(y==null){return emitErrorAndAutoClose(e,new Error("expected zip64 extended information extra field"))}var b=0;if(n.uncompressedSize===4294967295){if(b+8>y.length){return emitErrorAndAutoClose(e,new Error("zip64 extended information extra field does not include uncompressed size"))}n.uncompressedSize=readUInt64LE(y,b);b+=8}if(n.compressedSize===4294967295){if(b+8>y.length){return emitErrorAndAutoClose(e,new Error("zip64 extended information extra field does not include compressed size"))}n.compressedSize=readUInt64LE(y,b);b+=8}if(n.relativeOffsetOfLocalHeader===4294967295){if(b+8>y.length){return emitErrorAndAutoClose(e,new Error("zip64 extended information extra field does not include relative header offset"))}n.relativeOffsetOfLocalHeader=readUInt64LE(y,b);b+=8}}if(e.decodeStrings){for(var h=0;h<n.extraFields.length;h++){var v=n.extraFields[h];if(v.id===28789){if(v.data.length<6){continue}if(v.data.readUInt8(0)!==1){continue}var g=v.data.readUInt32LE(1);if(o.unsigned(i.slice(0,n.fileNameLength))!==g){continue}n.fileName=decodeBuffer(v.data,5,v.data.length,true);break}}}if(e.validateEntrySizes&&n.compressionMethod===0){var w=n.uncompressedSize;if(n.isEncrypted()){w+=12}if(n.compressedSize!==w){var S="compressed/uncompressed size mismatch for stored file: "+n.compressedSize+" != "+n.uncompressedSize;return emitErrorAndAutoClose(e,new Error(S))}}if(e.decodeStrings){if(!e.strictFileNames){n.fileName=n.fileName.replace(/\\/g,"/")}var E=t.validateFileName(n.fileName);if(E!=null)return emitErrorAndAutoClose(e,new Error(E))}e.emit("entry",n);if(!e.lazyEntries)e._readEntry()}))}))};ZipFile.prototype.openReadStream=function(e,t,i){var r=this;var s=0;var o=e.compressedSize;if(i==null){i=t;t={}}else{if(t.decrypt!=null){if(!e.isEncrypted()){throw new Error("options.decrypt can only be specified for encrypted entries")}if(t.decrypt!==false)throw new Error("invalid options.decrypt value: "+t.decrypt);if(e.isCompressed()){if(t.decompress!==false)throw new Error("entry is encrypted and compressed, and options.decompress !== false")}}if(t.decompress!=null){if(!e.isCompressed()){throw new Error("options.decompress can only be specified for compressed entries")}if(!(t.decompress===false||t.decompress===true)){throw new Error("invalid options.decompress value: "+t.decompress)}}if(t.start!=null||t.end!=null){if(e.isCompressed()&&t.decompress!==false){throw new Error("start/end range not allowed for compressed entry without options.decompress === false")}if(e.isEncrypted()&&t.decrypt!==false){throw new Error("start/end range not allowed for encrypted entry without options.decrypt === false")}}if(t.start!=null){s=t.start;if(s<0)throw new Error("options.start < 0");if(s>e.compressedSize)throw new Error("options.start > entry.compressedSize")}if(t.end!=null){o=t.end;if(o<0)throw new Error("options.end < 0");if(o>e.compressedSize)throw new Error("options.end > entry.compressedSize");if(o<s)throw new Error("options.end < options.start")}}if(!r.isOpen)return i(new Error("closed"));if(e.isEncrypted()){if(t.decrypt!==false)return i(new Error("entry is encrypted, and options.decrypt !== false"))}r.reader.ref();var a=p(30);readAndAssertNoEof(r.reader,a,0,a.length,e.relativeOffsetOfLocalHeader,(function(l){try{if(l)return i(l);var h=a.readUInt32LE(0);if(h!==67324752){return i(new Error("invalid local file header signature: 0x"+h.toString(16)))}var c=a.readUInt16LE(26);var u=a.readUInt16LE(28);var d=e.relativeOffsetOfLocalHeader+a.length+c+u;var p;if(e.compressionMethod===0){p=false}else if(e.compressionMethod===8){p=t.decompress!=null?t.decompress:true}else{return i(new Error("unsupported compression method: "+e.compressionMethod))}var m=d;var _=m+e.compressedSize;if(e.compressedSize!==0){if(_>r.fileSize){return i(new Error("file data overflows file bounds: "+m+" + "+e.compressedSize+" > "+r.fileSize))}}var y=r.reader.createReadStream({start:m+s,end:m+o});var v=y;if(p){var b=false;var g=n.createInflateRaw();y.on("error",(function(e){setImmediate((function(){if(!b)g.emit("error",e)}))}));y.pipe(g);if(r.validateEntrySizes){v=new AssertByteCountStream(e.uncompressedSize);g.on("error",(function(e){setImmediate((function(){if(!b)v.emit("error",e)}))}));g.pipe(v)}else{v=g}v.destroy=function(){b=true;if(g!==v)g.unpipe(v);y.unpipe(g);y.destroy()}}i(null,v)}finally{r.reader.unref()}}))};function Entry(){}Entry.prototype.getLastModDate=function(){return dosDateTimeToDate(this.lastModFileDate,this.lastModFileTime)};Entry.prototype.isEncrypted=function(){return(this.generalPurposeBitFlag&1)!==0};Entry.prototype.isCompressed=function(){return this.compressionMethod===8};function dosDateTimeToDate(e,t){var i=e&31;var r=(e>>5&15)-1;var n=(e>>9&127)+1980;var s=0;var o=(t&31)*2;var a=t>>5&63;var l=t>>11&31;return new Date(n,r,i,l,a,o,s)}function validateFileName(e){if(e.indexOf("\\")!==-1){return"invalid characters in fileName: "+e}if(/^[a-zA-Z]:/.test(e)||/^\//.test(e)){return"absolute path: "+e}if(e.split("/").indexOf("..")!==-1){return"invalid relative path: "+e}return null}function readAndAssertNoEof(e,t,i,r,n,s){if(r===0){return setImmediate((function(){s(null,p(0))}))}e.read(t,i,r,n,(function(e,t){if(e)return s(e);if(t<r){return s(new Error("unexpected EOF"))}s()}))}a.inherits(AssertByteCountStream,h);function AssertByteCountStream(e){h.call(this);this.actualByteCount=0;this.expectedByteCount=e}AssertByteCountStream.prototype._transform=function(e,t,i){this.actualByteCount+=e.length;if(this.actualByteCount>this.expectedByteCount){var r="too many bytes in the stream. expected "+this.expectedByteCount+". got at least "+this.actualByteCount;return i(new Error(r))}i(null,e)};AssertByteCountStream.prototype._flush=function(e){if(this.actualByteCount<this.expectedByteCount){var t="not enough bytes in the stream. expected "+this.expectedByteCount+". got only "+this.actualByteCount;return e(new Error(t))}e()};a.inherits(RandomAccessReader,l);function RandomAccessReader(){l.call(this);this.refCount=0}RandomAccessReader.prototype.ref=function(){this.refCount+=1};RandomAccessReader.prototype.unref=function(){var e=this;e.refCount-=1;if(e.refCount>0)return;if(e.refCount<0)throw new Error("invalid unref");e.close(onCloseDone);function onCloseDone(t){if(t)return e.emit("error",t);e.emit("close")}};RandomAccessReader.prototype.createReadStream=function(e){var t=e.start;var i=e.end;if(t===i){var r=new c;setImmediate((function(){r.end()}));return r}var n=this._readStreamForRange(t,i);var s=false;var o=new RefUnrefFilter(this);n.on("error",(function(e){setImmediate((function(){if(!s)o.emit("error",e)}))}));o.destroy=function(){n.unpipe(o);o.unref();n.destroy()};var a=new AssertByteCountStream(i-t);o.on("error",(function(e){setImmediate((function(){if(!s)a.emit("error",e)}))}));a.destroy=function(){s=true;o.unpipe(a);o.destroy()};return n.pipe(o).pipe(a)};RandomAccessReader.prototype._readStreamForRange=function(e,t){throw new Error("not implemented")};RandomAccessReader.prototype.read=function(e,t,i,r,n){var s=this.createReadStream({start:r,end:r+i});var o=new u;var a=0;o._write=function(i,r,n){i.copy(e,t+a,0,i.length);a+=i.length;n()};o.on("finish",n);s.on("error",(function(e){n(e)}));s.pipe(o)};RandomAccessReader.prototype.close=function(e){setImmediate(e)};a.inherits(RefUnrefFilter,c);function RefUnrefFilter(e){c.call(this);this.context=e;this.context.ref();this.unreffedYet=false}RefUnrefFilter.prototype._flush=function(e){this.unref();e()};RefUnrefFilter.prototype.unref=function(e){if(this.unreffedYet)return;this.unreffedYet=true;this.context.unref()};var d="\0☺☻♥♦♣♠•◘○◙♂♀♪♫☼►◄↕‼¶§▬↨↑↓→←∟↔▲▼ !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~⌂ÇüéâäàåçêëèïîìÄÅÉæÆôöòûùÿÖÜ¢£¥₧ƒáíóúñÑªº¿⌐¬½¼¡«»░▒▓│┤╡╢╖╕╣║╗╝╜╛┐└┴┬├─┼╞╟╚╔╩╦╠═╬╧╨╤╥╙╘╒╓╫╪┘┌█▄▌▐▀αßΓπΣσµτΦΘΩδ∞φε∩≡±≥≤⌠⌡÷≈°∙·√ⁿ²■ ";function decodeBuffer(e,t,i,r){if(r){return e.toString("utf8",t,i)}else{var n="";for(var s=t;s<i;s++){n+=d[e[s]]}return n}}function readUInt64LE(e,t){var i=e.readUInt32LE(t);var r=e.readUInt32LE(t+4);return r*4294967296+i}var p;if(typeof Buffer.allocUnsafe==="function"){p=function(e){return Buffer.allocUnsafe(e)}}else{p=function(e){return new Buffer(e)}}function defaultCallback(e){if(e)throw e}},9491:e=>{"use strict";e.exports=require("assert")},4300:e=>{"use strict";e.exports=require("buffer")},2081:e=>{"use strict";e.exports=require("child_process")},2057:e=>{"use strict";e.exports=require("constants")},6113:e=>{"use strict";e.exports=require("crypto")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},1017:e=>{"use strict";e.exports=require("path")},7282:e=>{"use strict";e.exports=require("process")},2781:e=>{"use strict";e.exports=require("stream")},1576:e=>{"use strict";e.exports=require("string_decoder")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},9796:e=>{"use strict";e.exports=require("zlib")}};var t={};function __nccwpck_require__(i){var r=t[i];if(r!==undefined){return r.exports}var n=t[i]={exports:{}};var s=true;try{e[i].call(n.exports,n,n.exports,__nccwpck_require__);s=false}finally{if(s)delete t[i]}return n.exports}if(typeof __nccwpck_require__!=="undefined")__nccwpck_require__.ab=__dirname+"/";var i=__nccwpck_require__(4);module.exports=i})();